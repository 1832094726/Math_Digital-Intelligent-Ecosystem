# ç¬¦å·æŽ¨èåŽç«¯æœåŠ¡æ¼”ç¤ºæ–‡æ¡£

## åŠŸèƒ½æ¦‚è¿°

ä¸ºæ¯ä¸ªç¤ºä¾‹é¢˜ç›®æä¾›æ™ºèƒ½ç¬¦å·æŽ¨èï¼Œç¡®ä¿æ‰€æœ‰é¢˜ç›®éƒ½æœ‰ç›¸åº”çš„ç¬¦å·æŽ¨èï¼Œæå‡å­¦ç”Ÿç­”é¢˜ä½“éªŒã€‚

## åŽç«¯æœåŠ¡æž¶æž„

### 1. ç¬¦å·æŽ¨èæœåŠ¡ (symbolRecommendationService.js)

#### æ ¸å¿ƒåŠŸèƒ½
- **é¢„å®šä¹‰æŽ¨è**ï¼šä¸ºç‰¹å®šé¢˜ç›®IDæä¾›ç²¾ç¡®çš„ç¬¦å·æŽ¨è
- **å†…å®¹åˆ†æžæŽ¨è**ï¼šåŸºäºŽé¢˜ç›®æ–‡æœ¬å†…å®¹æ™ºèƒ½æŽ¨èç¬¦å·
- **ä½¿ç”¨ç»Ÿè®¡è·Ÿè¸ª**ï¼šè®°å½•ç¬¦å·ä½¿ç”¨æƒ…å†µï¼Œä¼˜åŒ–æŽ¨èç®—æ³•

#### APIæŽ¥å£

##### getSymbolRecommendations(params)
```javascript
// å‚æ•°
{
  user_id: 1,
  question_id: 'hw1_q1',
  question_text: 'è§£æ–¹ç¨‹ xÂ² - 5x + 6 = 0',
  current_topic: 'ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹',
  difficulty_level: 'medium'
}

// è¿”å›ž
{
  data: {
    symbols: [
      { id: 'sym1', symbol: 'x', description: 'æœªçŸ¥æ•°x', category: 'variable', relevance: 0.95 },
      { id: 'sym2', symbol: 'Â²', description: 'å¹³æ–¹', category: 'operator', relevance: 0.90 }
    ],
    total: 2,
    question_id: 'hw1_q1',
    timestamp: '2023-12-07T10:30:00.000Z'
  }
}
```

## é¢˜ç›®ç¬¦å·æŽ¨èæ•°æ®åº“

### ä½œä¸š1é¢˜ç›®æŽ¨è

#### hw1_q1 - ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹
```
é¢˜ç›®ï¼šè§£æ–¹ç¨‹ xÂ² - 5x + 6 = 0
æŽ¨èç¬¦å·ï¼š
- x (æœªçŸ¥æ•°x) - ç›¸å…³æ€§: 95%
- Â² (å¹³æ–¹) - ç›¸å…³æ€§: 90%
- = (ç­‰å·) - ç›¸å…³æ€§: 85%
- Â± (æ­£è´Ÿå·) - ç›¸å…³æ€§: 80%
- âˆš (æ ¹å·) - ç›¸å…³æ€§: 75%
```

#### hw1_q2 - æ¢¯å½¢é¢ç§¯
```
é¢˜ç›®ï¼šè®¡ç®—æ¢¯å½¢é¢ç§¯ï¼Œä¸Šåº•5cmï¼Œä¸‹åº•8cmï¼Œé«˜4cm
æŽ¨èç¬¦å·ï¼š
- S (é¢ç§¯S) - ç›¸å…³æ€§: 95%
- = (ç­‰å·) - ç›¸å…³æ€§: 90%
- ( (å·¦æ‹¬å·) - ç›¸å…³æ€§: 85%
- ) (å³æ‹¬å·) - ç›¸å…³æ€§: 85%
- + (åŠ å·) - ç›¸å…³æ€§: 80%
- Ã— (ä¹˜å·) - ç›¸å…³æ€§: 75%
- Ã· (é™¤å·) - ç›¸å…³æ€§: 70%
- 2 (æ•°å­—2) - ç›¸å…³æ€§: 65%
```

#### hw1_q3 - åœ†çš„é¢ç§¯
```
é¢˜ç›®ï¼šè®¡ç®—åŠå¾„ä¸º3cmçš„åœ†çš„é¢ç§¯
æŽ¨èç¬¦å·ï¼š
- Ï€ (åœ†å‘¨çŽ‡) - ç›¸å…³æ€§: 95%
- r (åŠå¾„r) - ç›¸å…³æ€§: 90%
- Â² (å¹³æ–¹) - ç›¸å…³æ€§: 85%
- Ã— (ä¹˜å·) - ç›¸å…³æ€§: 80%
- = (ç­‰å·) - ç›¸å…³æ€§: 75%
- S (é¢ç§¯S) - ç›¸å…³æ€§: 70%
```

### ä½œä¸š2é¢˜ç›®æŽ¨è

#### hw2_q1 - åˆ†æ•°è¿ç®—
```
é¢˜ç›®ï¼šè®¡ç®— 2/3 + 1/4
æŽ¨èç¬¦å·ï¼š
- / (åˆ†æ•°çº¿) - ç›¸å…³æ€§: 95%
- + (åŠ å·) - ç›¸å…³æ€§: 90%
- - (å‡å·) - ç›¸å…³æ€§: 85%
- = (ç­‰å·) - ç›¸å…³æ€§: 80%
- ( (å·¦æ‹¬å·) - ç›¸å…³æ€§: 75%
- ) (å³æ‹¬å·) - ç›¸å…³æ€§: 75%
```

#### hw2_q2 - ç™¾åˆ†æ¯”è®¡ç®—
```
é¢˜ç›®ï¼šæŸå•†å“åŽŸä»·100å…ƒï¼Œæ‰“8æŠ˜åŽçš„ä»·æ ¼æ˜¯å¤šå°‘ï¼Ÿ
æŽ¨èç¬¦å·ï¼š
- % (ç™¾åˆ†å·) - ç›¸å…³æ€§: 95%
- Ã— (ä¹˜å·) - ç›¸å…³æ€§: 90%
- = (ç­‰å·) - ç›¸å…³æ€§: 85%
- + (åŠ å·) - ç›¸å…³æ€§: 80%
- - (å‡å·) - ç›¸å…³æ€§: 75%
```

#### hw2_q3 - ä¸‰è§’å½¢è§’åº¦
```
é¢˜ç›®ï¼šä¸‰è§’å½¢å†…è§’å’Œä¸º180Â°ï¼Œå·²çŸ¥ä¸¤è§’åˆ†åˆ«ä¸º60Â°å’Œ80Â°ï¼Œæ±‚ç¬¬ä¸‰è§’
æŽ¨èç¬¦å·ï¼š
- âˆ  (è§’) - ç›¸å…³æ€§: 95%
- â–³ (ä¸‰è§’å½¢) - ç›¸å…³æ€§: 90%
- Â° (åº¦) - ç›¸å…³æ€§: 85%
- = (ç­‰å·) - ç›¸å…³æ€§: 80%
- + (åŠ å·) - ç›¸å…³æ€§: 75%
- 180 (180åº¦) - ç›¸å…³æ€§: 70%
```

## æ™ºèƒ½æŽ¨èç®—æ³•

### 1. é¢„å®šä¹‰æŽ¨èä¼˜å…ˆ
```javascript
if (question_id && questionSymbolDatabase[question_id]) {
  symbols = questionSymbolDatabase[question_id].symbols;
}
```

### 2. å†…å®¹åˆ†æžæŽ¨è
```javascript
const contentBasedRecommendation = (questionText) => {
  const content = questionText.toLowerCase();
  
  // æ–¹ç¨‹ç›¸å…³
  if (content.includes('æ–¹ç¨‹') || content.includes('è§£')) {
    return ['x', 'y', '=', 'Â²', 'âˆš'];
  }
  
  // é¢ç§¯ç›¸å…³
  if (content.includes('é¢ç§¯') || content.includes('å‘¨é•¿')) {
    return ['S', 'Â²', 'Ã—', 'Ï€', 'r'];
  }
  
  // æ›´å¤šè§„åˆ™...
}
```

### 3. ç›¸å…³æ€§æŽ’åº
```javascript
symbols.sort((a, b) => b.relevance - a.relevance);
symbols = symbols.slice(0, 8); // é™åˆ¶æœ€å¤š8ä¸ª
```

## å‰ç«¯é›†æˆ

### 1. æœåŠ¡è°ƒç”¨
```javascript
// åŠ è½½æŽ¨èç¬¦å·
async loadRecommendedSymbols(question) {
  const symbolService = await import('../services/symbolRecommendationService');
  
  const response = await symbolService.getSymbolRecommendations({
    user_id: this.user?.id || 1,
    question_id: question.id,
    question_text: question.content
  });
  
  this.recommendedSymbols = response.data.symbols;
}
```

### 2. ä½¿ç”¨ç»Ÿè®¡
```javascript
// æ’å…¥ç¬¦å·æ—¶è®°å½•ä½¿ç”¨
async insertSymbol(symbol, questionId) {
  // æ’å…¥ç¬¦å·åˆ°ç­”æ¡ˆ
  this.answers[questionId] += symbol;
  
  // æ›´æ–°ä½¿ç”¨ç»Ÿè®¡
  await symbolService.updateSymbolUsage({
    user_id: this.user?.id,
    question_id: questionId,
    symbol: symbol
  });
}
```

## ç•Œé¢å±•ç¤ºæ•ˆæžœ

### ç¬¦å·åˆ†ç±»æ˜¾ç¤º
```
ðŸ’¡ æ™ºèƒ½æŽ¨è
[x] [Â²] [=] [Â±] [âˆš]

âž• åŸºç¡€è¿ç®—  
[+] [-] [Ã—] [Ã·] [=] [â‰ ] [>] [<]

ðŸ“ å‡ ä½•ç¬¦å·
[âˆ ] [â–³] [â–¡] [â—‹] [âˆ¥] [âŠ¥] [âˆ½] [â‰…]
```

### æŽ¨èä¼˜å…ˆçº§
- **é«˜ç›¸å…³æ€§ç¬¦å·**ï¼šæ˜¾ç¤ºåœ¨æ™ºèƒ½æŽ¨èåŒºåŸŸé¡¶éƒ¨
- **ä¸­ç­‰ç›¸å…³æ€§ç¬¦å·**ï¼šæ˜¾ç¤ºåœ¨æ™ºèƒ½æŽ¨èåŒºåŸŸåº•éƒ¨
- **é€šç”¨ç¬¦å·**ï¼šæ˜¾ç¤ºåœ¨åŸºç¡€è¿ç®—å’Œå‡ ä½•ç¬¦å·åŒºåŸŸ

## æ€§èƒ½ä¼˜åŒ–

### 1. ç¼“å­˜æœºåˆ¶
- ç›¸åŒé¢˜ç›®çš„æŽ¨èç»“æžœç¼“å­˜5åˆ†é’Ÿ
- ç”¨æˆ·ä¼šè¯æœŸé—´ä¿æŒæŽ¨èç»“æžœ

### 2. æ‰¹é‡åŠ è½½
```javascript
// æ‰¹é‡èŽ·å–ä½œä¸šä¸­æ‰€æœ‰é¢˜ç›®çš„æŽ¨è
const batchResponse = await getBatchSymbolRecommendations(questions);
```

### 3. å¼‚æ­¥åŠ è½½
- ç¬¦å·æŽ¨èå¼‚æ­¥åŠ è½½ï¼Œä¸é˜»å¡žç•Œé¢æ˜¾ç¤º
- åŠ è½½å¤±è´¥æ—¶é™çº§åˆ°æœ¬åœ°æŽ¨èç®—æ³•

## æ•°æ®ç»Ÿè®¡ä¸Žåˆ†æž

### ä½¿ç”¨é¢‘çŽ‡ç»Ÿè®¡
```javascript
{
  user_id: 1,
  question_id: 'hw1_q1',
  symbol: 'x',
  usage_count: 15,
  last_used: '2023-12-07T10:30:00.000Z'
}
```

### æŽ¨èæ•ˆæžœè¯„ä¼°
- **ç‚¹å‡»çŽ‡**ï¼šæŽ¨èç¬¦å·çš„ä½¿ç”¨æ¯”ä¾‹
- **å‡†ç¡®æ€§**ï¼šç”¨æˆ·å®žé™…ä½¿ç”¨çš„ç¬¦å·ä¸ŽæŽ¨èçš„åŒ¹é…åº¦
- **è¦†ç›–çŽ‡**ï¼šæœ‰æŽ¨èç¬¦å·çš„é¢˜ç›®æ¯”ä¾‹

## æ‰©å±•åŠŸèƒ½

### 1. ä¸ªæ€§åŒ–æŽ¨è
- åŸºäºŽç”¨æˆ·åŽ†å²ä½¿ç”¨ä¹ æƒ¯è°ƒæ•´æŽ¨è
- å­¦ä¹ ç”¨æˆ·åå¥½çš„ç¬¦å·è¡¨ç¤ºæ–¹å¼

### 2. ä¸Šä¸‹æ–‡æ„ŸçŸ¥
- è€ƒè™‘å‰åŽé¢˜ç›®çš„å…³è”æ€§
- åŸºäºŽå½“å‰ç­”æ¡ˆå†…å®¹åŠ¨æ€è°ƒæ•´æŽ¨è

### 3. å¤šè¯­è¨€æ”¯æŒ
- æ”¯æŒä¸åŒåœ°åŒºçš„æ•°å­¦ç¬¦å·ä¹ æƒ¯
- æä¾›ç¬¦å·çš„å¤šç§è¡¨ç¤ºæ–¹å¼

## æ€»ç»“

ç¬¦å·æŽ¨èåŽç«¯æœåŠ¡ä¸ºæ¯ä¸ªç¤ºä¾‹é¢˜ç›®æä¾›äº†ç²¾ç¡®çš„ç¬¦å·æŽ¨èï¼Œé€šè¿‡é¢„å®šä¹‰æ•°æ®åº“å’Œæ™ºèƒ½ç®—æ³•ç›¸ç»“åˆçš„æ–¹å¼ï¼Œç¡®ä¿æ‰€æœ‰é¢˜ç›®éƒ½æœ‰ç›¸å…³çš„ç¬¦å·æŽ¨èï¼Œæ˜¾è‘—æå‡äº†å­¦ç”Ÿçš„ç­”é¢˜ä½“éªŒå’Œæ•ˆçŽ‡ã€‚
