{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"integrated-homework-page\"\n};\nvar _hoisted_2 = {\n  \"class\": \"page-header\"\n};\nvar _hoisted_3 = {\n  \"class\": \"header-right\"\n};\nvar _hoisted_4 = {\n  \"class\": \"el-dropdown-link\"\n};\nvar _hoisted_5 = {\n  \"class\": \"page-content\"\n};\nvar _hoisted_6 = {\n  \"class\": \"left-panel\"\n};\nvar _hoisted_7 = {\n  \"class\": \"center-panel\"\n};\nvar _hoisted_8 = {\n  key: 0,\n  \"class\": \"loading-container\"\n};\nvar _hoisted_9 = {\n  key: 1,\n  \"class\": \"empty-state\"\n};\nvar _hoisted_10 = {\n  key: 2,\n  \"class\": \"homework-content\"\n};\nvar _hoisted_11 = {\n  \"class\": \"homework-header\"\n};\nvar _hoisted_12 = {\n  \"class\": \"homework-meta\"\n};\nvar _hoisted_13 = {\n  \"class\": \"homework-description\"\n};\nvar _hoisted_14 = {\n  \"class\": \"problem-list\"\n};\nvar _hoisted_15 = {\n  \"class\": \"problem-content\"\n};\nvar _hoisted_16 = [\"innerHTML\"];\nvar _hoisted_17 = {\n  \"class\": \"answer-area\"\n};\nvar _hoisted_18 = {\n  \"class\": \"homework-actions\"\n};\nvar _hoisted_19 = {\n  key: 0,\n  \"class\": \"feedback-container\"\n};\nvar _hoisted_20 = {\n  \"class\": \"right-panel\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  var _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  var _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  var _component_HomeworkManagement = _resolveComponent(\"HomeworkManagement\");\n  var _component_el_skeleton = _resolveComponent(\"el-skeleton\");\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_collapse_item = _resolveComponent(\"el-collapse-item\");\n  var _component_el_collapse = _resolveComponent(\"el-collapse\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_FeedbackModule = _resolveComponent(\"FeedbackModule\");\n  var _component_KnowledgeRecommendation = _resolveComponent(\"KnowledgeRecommendation\");\n  var _component_el_tab_pane = _resolveComponent(\"el-tab-pane\");\n  var _component_ExerciseRecommendation = _resolveComponent(\"ExerciseRecommendation\");\n  var _component_el_tabs = _resolveComponent(\"el-tabs\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 顶部导航栏 \"), _createElementVNode(\"header\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    \"class\": \"header-left\"\n  }, [_createElementVNode(\"h2\", null, \"智能作业系统\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_ctx.user ? (_openBlock(), _createBlock(_component_el_dropdown, {\n    key: 0,\n    trigger: \"click\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"span\", _hoisted_4, [_createTextVNode(_toDisplayString(_ctx.user.name) + \" \", 1 /* TEXT */), _cache[2] || (_cache[2] = _createElementVNode(\"i\", {\n        \"class\": \"el-icon-arrow-down el-icon--right\"\n      }, null, -1 /* HOISTED */))]), _createVNode(_component_el_dropdown_menu, {\n        slot: \"dropdown\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_dropdown_item, null, {\n            \"default\": _withCtx(function () {\n              return _cache[3] || (_cache[3] = [_createTextVNode(\"个人中心\")]);\n            }),\n            _: 1 /* STABLE */,\n            __: [3]\n          }), _createVNode(_component_el_dropdown_item, null, {\n            \"default\": _withCtx(function () {\n              return _cache[4] || (_cache[4] = [_createTextVNode(\"设置\")]);\n            }),\n            _: 1 /* STABLE */,\n            __: [4]\n          }), _createVNode(_component_el_dropdown_item, {\n            divided: \"\"\n          }, {\n            \"default\": _withCtx(function () {\n              return _cache[5] || (_cache[5] = [_createTextVNode(\"退出登录\")]);\n            }),\n            _: 1 /* STABLE */,\n            __: [5]\n          })];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" 主要内容区域 \"), _createElementVNode(\"main\", _hoisted_5, [_createCommentVNode(\" 左侧作业管理 \"), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_HomeworkManagement, {\n    homeworks: _ctx.homeworks,\n    activeHomeworkId: _ctx.currentHomework ? _ctx.currentHomework.id : '',\n    onSelectHomework: $options.selectHomework,\n    onRefreshHomeworks: _ctx.fetchHomeworks\n  }, null, 8 /* PROPS */, [\"homeworks\", \"activeHomeworkId\", \"onSelectHomework\", \"onRefreshHomeworks\"])]), _createCommentVNode(\" 中间作业内容 \"), _createElementVNode(\"div\", _hoisted_7, [$data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_el_skeleton, {\n    rows: 10,\n    animated: \"\"\n  })])) : !_ctx.currentHomework ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _cache[7] || (_cache[7] = [_createElementVNode(\"i\", {\n    \"class\": \"el-icon-document\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"p\", null, \"请从左侧选择一个作业\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h3\", null, _toDisplayString(_ctx.currentHomework.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"span\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"i\", {\n    \"class\": \"el-icon-date\"\n  }, null, -1 /* HOISTED */)), _createTextVNode(\" 截止日期: \" + _toDisplayString($options.formatDate(_ctx.currentHomework.deadline)), 1 /* TEXT */)]), _createElementVNode(\"span\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"i\", {\n    \"class\": \"el-icon-medal\"\n  }, null, -1 /* HOISTED */)), _createTextVNode(\" 难度: \" + _toDisplayString($options.getDifficultyText(_ctx.currentHomework.difficulty)), 1 /* TEXT */)])]), _createElementVNode(\"p\", _hoisted_13, _toDisplayString(_ctx.currentHomework.description), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_14, [_createVNode(_component_el_collapse, {\n    modelValue: $data.activeProblemIds,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.activeProblemIds = $event;\n    })\n  }, {\n    \"default\": _withCtx(function () {\n      return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.currentHomework.problems, function (problem) {\n        return _openBlock(), _createBlock(_component_el_collapse_item, {\n          key: problem.id,\n          title: \"\".concat(problem.title, \" (\").concat(problem.points, \"\\u5206)\"),\n          name: problem.id\n        }, {\n          \"default\": _withCtx(function () {\n            return [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", {\n              \"class\": \"problem-statement\",\n              innerHTML: problem.content\n            }, null, 8 /* PROPS */, _hoisted_16), _createElementVNode(\"div\", _hoisted_17, [_createVNode(_component_el_input, {\n              type: \"textarea\",\n              rows: 4,\n              placeholder: \"在此输入答案...\",\n              modelValue: $data.answers[problem.id],\n              \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n                return $data.answers[problem.id] = $event;\n              },\n              onInput: $options.saveProgress\n            }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"onInput\"])])])];\n          }),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"title\", \"name\"]);\n      }), 128 /* KEYED_FRAGMENT */))];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_18, [_createVNode(_component_el_button, {\n    type: \"primary\",\n    disabled: !$options.canSubmit,\n    onClick: $options.submitHomework,\n    loading: $data.submitting\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[10] || (_cache[10] = [_createTextVNode(\"提交作业\")]);\n    }),\n    _: 1 /* STABLE */,\n    __: [10]\n  }, 8 /* PROPS */, [\"disabled\", \"onClick\", \"loading\"]), _createVNode(_component_el_button, {\n    type: \"info\",\n    onClick: $options.saveProgress,\n    loading: $data.saving\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[11] || (_cache[11] = [_createTextVNode(\"保存进度\")]);\n    }),\n    _: 1 /* STABLE */,\n    __: [11]\n  }, 8 /* PROPS */, [\"onClick\", \"loading\"])]), _createCommentVNode(\" 反馈区域 \"), $data.feedback ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createVNode(_component_FeedbackModule, {\n    feedback: $data.feedback\n  }, null, 8 /* PROPS */, [\"feedback\"])])) : _createCommentVNode(\"v-if\", true)]))]), _createCommentVNode(\" 右侧推荐面板 \"), _createElementVNode(\"div\", _hoisted_20, [_createVNode(_component_el_tabs, {\n    modelValue: $data.activeTab,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.activeTab = $event;\n    }),\n    type: \"card\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_tab_pane, {\n        label: \"知识推荐\",\n        name: \"knowledge\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_KnowledgeRecommendation, {\n            currentProblem: $options.currentProblem,\n            userContext: _ctx.userContext,\n            onKnowledgeSelected: $options.applyKnowledge\n          }, null, 8 /* PROPS */, [\"currentProblem\", \"userContext\", \"onKnowledgeSelected\"])];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_tab_pane, {\n        label: \"练习推荐\",\n        name: \"exercise\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_ExerciseRecommendation, {\n            currentProblem: $options.currentProblem,\n            userContext: _ctx.userContext,\n            onExerciseSelected: $options.selectExercise\n          }, null, 8 /* PROPS */, [\"currentProblem\", \"userContext\", \"onExerciseSelected\"])];\n        }),\n        _: 1 /* STABLE */\n      })];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])])])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_ctx","user","_createBlock","_component_el_dropdown","trigger","_hoisted_4","name","_createVNode","_component_el_dropdown_menu","slot","_component_el_dropdown_item","_cache","divided","_hoisted_5","_hoisted_6","_component_HomeworkManagement","homeworks","activeHomeworkId","currentHomework","id","onSelectHomework","$options","selectHomework","onRefreshHomeworks","fetchHomeworks","_hoisted_7","$data","loading","_hoisted_8","_component_el_skeleton","rows","animated","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","title","_hoisted_12","formatDate","deadline","getDifficultyText","difficulty","_hoisted_13","description","_hoisted_14","_component_el_collapse","activeProblemIds","$event","_Fragment","_renderList","problems","problem","_component_el_collapse_item","key","concat","points","_hoisted_15","innerHTML","content","_hoisted_17","_component_el_input","type","placeholder","answers","onInput","saveProgress","_hoisted_18","_component_el_button","disabled","canSubmit","onClick","submitHomework","submitting","saving","feedback","_hoisted_19","_component_FeedbackModule","_hoisted_20","_component_el_tabs","activeTab","_component_el_tab_pane","label","_component_KnowledgeRecommendation","currentProblem","userContext","onKnowledgeSelected","applyKnowledge","_component_ExerciseRecommendation","onExerciseSelected","selectExercise"],"sources":["E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\src\\components\\IntegratedHomeworkPage.vue"],"sourcesContent":["<!--\r\n  文件名: IntegratedHomeworkPage.vue\r\n  描述: 集成四个模块的主页面，包括作业管理、知识推荐、练习推荐和反馈模块\r\n  创建日期: 2023-06-15\r\n-->\r\n\r\n<template>\r\n  <div class=\"integrated-homework-page\">\r\n    <!-- 顶部导航栏 -->\r\n    <header class=\"page-header\">\r\n      <div class=\"header-left\">\r\n        <h2>智能作业系统</h2>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <el-dropdown v-if=\"user\" trigger=\"click\">\r\n          <span class=\"el-dropdown-link\">\r\n            {{ user.name }} <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item>个人中心</el-dropdown-item>\r\n            <el-dropdown-item>设置</el-dropdown-item>\r\n            <el-dropdown-item divided>退出登录</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </div>\r\n    </header>\r\n    \r\n    <!-- 主要内容区域 -->\r\n    <main class=\"page-content\">\r\n      <!-- 左侧作业管理 -->\r\n      <div class=\"left-panel\">\r\n        <HomeworkManagement \r\n          :homeworks=\"homeworks\"\r\n          :activeHomeworkId=\"currentHomework ? currentHomework.id : ''\"\r\n          @select-homework=\"selectHomework\"\r\n          @refresh-homeworks=\"fetchHomeworks\"\r\n        />\r\n      </div>\r\n      \r\n      <!-- 中间作业内容 -->\r\n      <div class=\"center-panel\">\r\n        <div v-if=\"loading\" class=\"loading-container\">\r\n          <el-skeleton :rows=\"10\" animated />\r\n        </div>\r\n        \r\n        <div v-else-if=\"!currentHomework\" class=\"empty-state\">\r\n          <i class=\"el-icon-document\"></i>\r\n          <p>请从左侧选择一个作业</p>\r\n        </div>\r\n        \r\n        <div v-else class=\"homework-content\">\r\n          <div class=\"homework-header\">\r\n            <h3>{{ currentHomework.title }}</h3>\r\n            <div class=\"homework-meta\">\r\n              <span><i class=\"el-icon-date\"></i> 截止日期: {{ formatDate(currentHomework.deadline) }}</span>\r\n              <span><i class=\"el-icon-medal\"></i> 难度: {{ getDifficultyText(currentHomework.difficulty) }}</span>\r\n            </div>\r\n            <p class=\"homework-description\">{{ currentHomework.description }}</p>\r\n          </div>\r\n          \r\n          <div class=\"problem-list\">\r\n            <el-collapse v-model=\"activeProblemIds\">\r\n              <el-collapse-item \r\n                v-for=\"problem in currentHomework.problems\" \r\n                :key=\"problem.id\"\r\n                :title=\"`${problem.title} (${problem.points}分)`\"\r\n                :name=\"problem.id\"\r\n              >\r\n                <div class=\"problem-content\">\r\n                  <div class=\"problem-statement\" v-html=\"problem.content\"></div>\r\n                  \r\n                  <div class=\"answer-area\">\r\n                    <el-input\r\n                      type=\"textarea\"\r\n                      :rows=\"4\"\r\n                      placeholder=\"在此输入答案...\"\r\n                      v-model=\"answers[problem.id]\"\r\n                      @input=\"saveProgress\"\r\n                    ></el-input>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n            </el-collapse>\r\n          </div>\r\n          \r\n          <div class=\"homework-actions\">\r\n            <el-button \r\n              type=\"primary\" \r\n              :disabled=\"!canSubmit\"\r\n              @click=\"submitHomework\"\r\n              :loading=\"submitting\"\r\n            >提交作业</el-button>\r\n            <el-button \r\n              type=\"info\" \r\n              @click=\"saveProgress\"\r\n              :loading=\"saving\"\r\n            >保存进度</el-button>\r\n          </div>\r\n          \r\n          <!-- 反馈区域 -->\r\n          <div v-if=\"feedback\" class=\"feedback-container\">\r\n            <FeedbackModule :feedback=\"feedback\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 右侧推荐面板 -->\r\n      <div class=\"right-panel\">\r\n        <el-tabs v-model=\"activeTab\" type=\"card\">\r\n          <el-tab-pane label=\"知识推荐\" name=\"knowledge\">\r\n            <KnowledgeRecommendation \r\n              :currentProblem=\"currentProblem\"\r\n              :userContext=\"userContext\"\r\n              @knowledge-selected=\"applyKnowledge\"\r\n            />\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"练习推荐\" name=\"exercise\">\r\n            <ExerciseRecommendation \r\n              :currentProblem=\"currentProblem\"\r\n              :userContext=\"userContext\"\r\n              @exercise-selected=\"selectExercise\"\r\n            />\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport HomeworkManagement from './HomeworkManagement.vue';\r\nimport KnowledgeRecommendation from './KnowledgeRecommendation.vue';\r\nimport ExerciseRecommendation from './ExerciseRecommendation.vue';\r\nimport FeedbackModule from './FeedbackModule.vue';\r\nimport { formatDate } from '../utils/dateFormat';\r\n\r\nexport default {\r\n  name: 'IntegratedHomeworkPage',\r\n  \r\n  components: {\r\n    HomeworkManagement,\r\n    KnowledgeRecommendation,\r\n    ExerciseRecommendation,\r\n    FeedbackModule\r\n  },\r\n  \r\n  data() {\r\n    return {\r\n      loading: false,\r\n      submitting: false,\r\n      saving: false,\r\n      activeProblemIds: [],\r\n      activeTab: 'knowledge',\r\n      answers: {},\r\n      feedback: null,\r\n      saveTimeout: null\r\n    };\r\n  },\r\n  \r\n  computed: {\r\n    ...mapGetters({\r\n      user: 'getUser',\r\n      homeworks: 'getHomeworks',\r\n      currentHomework: 'getCurrentHomework',\r\n      userContext: 'getUserContext'\r\n    }),\r\n    \r\n    // 当前选中的问题\r\n    currentProblem() {\r\n      if (!this.currentHomework || !this.activeProblemIds.length) return null;\r\n      \r\n      return this.currentHomework.problems.find(\r\n        problem => problem.id === this.activeProblemIds[0]\r\n      );\r\n    },\r\n    \r\n    // 是否可以提交\r\n    canSubmit() {\r\n      if (!this.currentHomework) return false;\r\n      \r\n      // 检查是否所有问题都已回答\r\n      return this.currentHomework.problems.every(\r\n        problem => this.answers[problem.id]\r\n      );\r\n    }\r\n  },\r\n  \r\n  created() {\r\n    // 初始化数据\r\n    this.initializeData();\r\n  },\r\n  \r\n  methods: {\r\n    ...mapActions([\r\n      'login',\r\n      'fetchHomeworks',\r\n      'fetchHomeworkDetail',\r\n      'fetchUserContext',\r\n      'submitHomework',\r\n      'saveHomeworkProgress'\r\n    ]),\r\n    \r\n    // 初始化数据\r\n    async initializeData() {\r\n      try {\r\n        // 模拟登录\r\n        await this.login({ username: 'student', password: 'password' });\r\n        \r\n        // 获取作业列表\r\n        await this.fetchHomeworks();\r\n        \r\n        // 获取用户上下文\r\n        await this.fetchUserContext();\r\n      } catch (error) {\r\n        console.error('初始化数据失败', error);\r\n        this.$message.error('加载数据失败，请刷新页面重试');\r\n      }\r\n    },\r\n    \r\n    // 选择作业\r\n    async selectHomework(homeworkId) {\r\n      this.loading = true;\r\n      this.answers = {};\r\n      this.feedback = null;\r\n      \r\n      try {\r\n        // 获取作业详情\r\n        const homework = await this.fetchHomeworkDetail(homeworkId);\r\n        \r\n        // 初始化答案\r\n        if (homework.savedAnswers) {\r\n          this.answers = { ...homework.savedAnswers };\r\n        }\r\n        \r\n        // 如果是已批改的作业，显示反馈\r\n        if (homework.status === 'graded' && homework.feedback) {\r\n          this.feedback = homework.feedback;\r\n        }\r\n        \r\n        // 默认展开第一个问题\r\n        if (homework.problems && homework.problems.length > 0) {\r\n          this.activeProblemIds = [homework.problems[0].id];\r\n        }\r\n      } catch (error) {\r\n        console.error('获取作业详情失败', error);\r\n        this.$message.error('获取作业详情失败');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // 保存进度\r\n    saveProgress() {\r\n      // 防抖处理，避免频繁保存\r\n      clearTimeout(this.saveTimeout);\r\n      this.saveTimeout = setTimeout(async () => {\r\n        if (!this.currentHomework) return;\r\n        \r\n        this.saving = true;\r\n        \r\n        try {\r\n          await this.saveHomeworkProgress({\r\n            homeworkId: this.currentHomework.id,\r\n            answers: this.answers\r\n          });\r\n          \r\n          this.$message.success('进度已保存');\r\n        } catch (error) {\r\n          console.error('保存进度失败', error);\r\n          this.$message.error('保存进度失败');\r\n        } finally {\r\n          this.saving = false;\r\n        }\r\n      }, 1000);\r\n    },\r\n    \r\n    // 提交作业\r\n    async submitHomework() {\r\n      if (!this.currentHomework) return;\r\n      \r\n      this.submitting = true;\r\n      \r\n      try {\r\n        const result = await this.submitHomework({\r\n          homeworkId: this.currentHomework.id,\r\n          answers: this.answers\r\n        });\r\n        \r\n        this.$message.success('作业提交成功');\r\n        \r\n        // 显示反馈\r\n        if (result.feedback) {\r\n          this.feedback = result.feedback;\r\n        }\r\n      } catch (error) {\r\n        console.error('提交作业失败', error);\r\n        this.$message.error('提交作业失败');\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    },\r\n    \r\n    // 应用知识点\r\n    applyKnowledge(knowledge) {\r\n      if (!this.currentProblem) return;\r\n      \r\n      // 在当前答案中插入知识点\r\n      const problemId = this.currentProblem.id;\r\n      const currentAnswer = this.answers[problemId] || '';\r\n      \r\n      // 根据知识点类型应用不同的内容\r\n      let contentToInsert = '';\r\n      \r\n      if (knowledge.formulas && knowledge.formulas.length > 0) {\r\n        contentToInsert = knowledge.formulas[0];\r\n      } else {\r\n        contentToInsert = knowledge.title;\r\n      }\r\n      \r\n      this.answers[problemId] = currentAnswer + '\\n' + contentToInsert;\r\n      this.saveProgress();\r\n    },\r\n    \r\n    // 选择练习\r\n    selectExercise(exercise) {\r\n      // 实际应用中应跳转到练习页面\r\n      this.$message.info(`即将开始练习：${exercise.title}`);\r\n    },\r\n    \r\n    // 获取难度文本\r\n    getDifficultyText(difficulty) {\r\n      const difficultyMap = {\r\n        1: '简单',\r\n        2: '中等',\r\n        3: '困难',\r\n        4: '挑战',\r\n        5: '极难'\r\n      };\r\n      return difficultyMap[difficulty] || difficulty;\r\n    },\r\n    \r\n    // 格式化日期\r\n    formatDate(date) {\r\n      return formatDate(date, 'YYYY-MM-DD HH:mm');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.integrated-homework-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  height: 60px;\r\n  background-color: #409EFF;\r\n  color: white;\r\n}\r\n\r\n.header-left h2 {\r\n  margin: 0;\r\n  font-size: 20px;\r\n}\r\n\r\n.el-dropdown-link {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.page-content {\r\n  display: flex;\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.left-panel {\r\n  width: 280px;\r\n  border-right: 1px solid #e6e6e6;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.center-panel {\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.right-panel {\r\n  width: 320px;\r\n  border-left: 1px solid #e6e6e6;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.loading-container {\r\n  padding: 20px;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 300px;\r\n  color: #909399;\r\n}\r\n\r\n.empty-state i {\r\n  font-size: 48px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.homework-header {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.homework-header h3 {\r\n  margin: 0 0 10px 0;\r\n  font-size: 22px;\r\n  color: #303133;\r\n}\r\n\r\n.homework-meta {\r\n  display: flex;\r\n  gap: 20px;\r\n  font-size: 14px;\r\n  color: #606266;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.homework-description {\r\n  color: #606266;\r\n  line-height: 1.6;\r\n}\r\n\r\n.problem-list {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.problem-content {\r\n  padding: 10px 0;\r\n}\r\n\r\n.problem-statement {\r\n  margin-bottom: 15px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.answer-area {\r\n  margin-top: 10px;\r\n}\r\n\r\n.homework-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.feedback-container {\r\n  margin-top: 30px;\r\n  padding-top: 20px;\r\n  border-top: 1px solid #e6e6e6;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}