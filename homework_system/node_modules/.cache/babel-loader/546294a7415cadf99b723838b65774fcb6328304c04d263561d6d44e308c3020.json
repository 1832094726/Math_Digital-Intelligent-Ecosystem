{"ast":null,"code":"import _regenerator from \"E:/program development/The Digital and Intelligent Ecosystem for K-12 Mathematics Education/homework_system/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"E:/program development/The Digital and Intelligent Ecosystem for K-12 Mathematics Education/homework_system/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.timers.js\";\nexport default {\n  name: 'KnowledgeRecommendation',\n  props: {\n    // 当前问题\n    currentProblem: {\n      type: Object,\n      \"default\": null\n    },\n    // 用户上下文\n    userContext: {\n      type: Object,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      // 加载状态\n      loading: false,\n      // 知识点推荐\n      recommendedConcepts: [],\n      // 展开的概念\n      activeConceptNames: [],\n      // 知识图谱显示\n      showKnowledgeGraph: true,\n      // 知识图谱实例\n      graph: null,\n      graphZoom: 1,\n      // 学习路径\n      learningPath: [],\n      // 弱点知识点\n      weakPoints: []\n    };\n  },\n  watch: {\n    // 监听当前问题变化，更新推荐\n    currentProblem: {\n      handler: function handler(newVal) {\n        if (newVal) {\n          this.fetchRecommendations();\n        } else {\n          this.recommendedConcepts = [];\n          this.learningPath = [];\n          this.weakPoints = [];\n        }\n      },\n      immediate: true\n    },\n    // 监听知识图谱显示状态\n    showKnowledgeGraph: function showKnowledgeGraph(newVal) {\n      var _this = this;\n      if (newVal) {\n        this.$nextTick(function () {\n          _this.initKnowledgeGraph();\n        });\n      }\n    }\n  },\n  methods: {\n    // 获取知识点推荐\n    fetchRecommendations: function fetchRecommendations() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              if (_this2.currentProblem) {\n                _context.n = 1;\n                break;\n              }\n              return _context.a(2);\n            case 1:\n              _this2.loading = true;\n              _context.p = 2;\n              _context.n = 3;\n              return _this2.simulateFetch();\n            case 3:\n              // 初始化知识图谱\n              if (_this2.showKnowledgeGraph) {\n                _this2.$nextTick(function () {\n                  _this2.initKnowledgeGraph();\n                });\n              }\n              _context.n = 5;\n              break;\n            case 4:\n              _context.p = 4;\n              _t = _context.v;\n              console.error('获取知识点推荐失败', _t);\n              _this2.$message.error('获取知识点推荐失败');\n            case 5:\n              _context.p = 5;\n              _this2.loading = false;\n              return _context.f(5);\n            case 6:\n              return _context.a(2);\n          }\n        }, _callee, null, [[2, 4, 5, 6]]);\n      }))();\n    },\n    // 模拟获取数据\n    simulateFetch: function simulateFetch() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _context2.n = 1;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 800);\n              });\n            case 1:\n              // 根据当前问题生成模拟数据\n              if (_this3.currentProblem.type === 'algebra') {\n                _this3.recommendedConcepts = [{\n                  id: 'c1',\n                  title: '一元二次方程',\n                  description: '一元二次方程是指含有一个未知数，并且未知数的最高次数为2的方程。一般形式为：ax² + bx + c = 0，其中a、b、c是实数，且a ≠ 0。',\n                  examples: ['例如：3x² - 5x + 2 = 0', '例如：x² - 4 = 0'],\n                  formulas: ['判别式：Δ = b² - 4ac', '求根公式：x = (-b ± √(b² - 4ac)) / (2a)'],\n                  relevance: 0.95\n                }, {\n                  id: 'c2',\n                  title: '因式分解',\n                  description: '因式分解是将一个多项式表示成若干个多项式的乘积的形式。常用方法包括提取公因式、运用公式法、分组分解法等。',\n                  examples: ['例如：x² - 4 = (x - 2)(x + 2)', '例如：x² + 2x + 1 = (x + 1)²'],\n                  formulas: ['平方差公式：a² - b² = (a - b)(a + b)', '完全平方公式：a² + 2ab + b² = (a + b)²', 'a² - 2ab + b² = (a - b)²'],\n                  relevance: 0.85\n                }, {\n                  id: 'c3',\n                  title: '配方法',\n                  description: '配方法是解一元二次方程的一种方法，通过恰当地变形，使方程中的二次项和一次项变成一个完全平方式。',\n                  examples: ['例如：将x² + 6x + 5 = 0变形为(x + 3)² = 4，然后求解'],\n                  formulas: ['配方公式：x² + px = x² + px + (p/2)² - (p/2)² = (x + p/2)² - (p/2)²'],\n                  relevance: 0.78\n                }];\n                _this3.learningPath = [{\n                  id: 'p1',\n                  title: '一元二次方程的概念',\n                  description: '了解一元二次方程的定义和一般形式'\n                }, {\n                  id: 'p2',\n                  title: '因式分解法解方程',\n                  description: '掌握利用因式分解解一元二次方程'\n                }, {\n                  id: 'p3',\n                  title: '配方法解方程',\n                  description: '学习配方法的基本步骤和应用'\n                }, {\n                  id: 'p4',\n                  title: '公式法解方程',\n                  description: '掌握并灵活运用求根公式'\n                }];\n                _this3.weakPoints = [{\n                  id: 'w1',\n                  title: '判别式的应用',\n                  description: '根据历史学习记录，您在使用判别式判断方程根的情况时存在困难'\n                }];\n              } else if (_this3.currentProblem.type === 'geometry') {\n                // 为几何问题生成不同的推荐\n                _this3.recommendedConcepts = [{\n                  id: 'c4',\n                  title: '相似三角形',\n                  description: '相似三角形是指形状相同但大小可能不同的三角形。两个三角形相似，当且仅当它们的对应角相等，对应边成比例。',\n                  examples: ['例如：两个三角形，如果有两个角相等，则这两个三角形相似'],\n                  formulas: ['相似三角形的对应边成比例：a/a\\' = b/b\\' = c/c\\'', '相似三角形的面积比等于对应边长比的平方：S/S\\' = (a/a\\')²'],\n                  relevance: 0.92\n                }\n                // 其他几何概念...\n                ];\n\n                // 其他几何相关数据...\n              } else {\n                // 默认推荐\n                _this3.recommendedConcepts = [{\n                  id: 'c5',\n                  title: '基本数学概念',\n                  description: '针对当前问题的基本数学概念介绍',\n                  examples: ['示例问题1', '示例问题2'],\n                  formulas: ['相关公式1', '相关公式2'],\n                  relevance: 0.75\n                }];\n              }\n\n              // 根据用户上下文个性化推荐\n              if (_this3.userContext.weakPoints && _this3.userContext.weakPoints.length > 0) {\n                // 添加用户弱点相关的知识点\n                _this3.weakPoints = _this3.userContext.weakPoints.map(function (wp) {\n                  return {\n                    id: \"w\".concat(wp.id),\n                    title: wp.name,\n                    description: \"\\u60A8\\u5728\\u6B64\\u77E5\\u8BC6\\u70B9\\u7684\\u638C\\u63E1\\u7A0B\\u5EA6\\u8F83\\u5F31\\uFF0C\\u5EFA\\u8BAE\\u590D\\u4E60\\u3002\\u638C\\u63E1\\u5EA6: \".concat(wp.proficiency, \"%\")\n                  };\n                });\n              }\n\n              // 随机决定是否展开第一个概念\n              if (_this3.recommendedConcepts.length > 0 && Math.random() > 0.5) {\n                _this3.activeConceptNames = [_this3.recommendedConcepts[0].title];\n              }\n            case 2:\n              return _context2.a(2);\n          }\n        }, _callee2);\n      }))();\n    },\n    // 初始化知识图谱可视化\n    initKnowledgeGraph: function initKnowledgeGraph() {\n      if (!this.$refs.knowledgeGraphRef) return;\n\n      // 在实际应用中，应该使用可视化库如D3.js、ECharts或vis.js\n      // 这里仅添加一个提示，表示该功能需要进一步实现\n      var graphContainer = this.$refs.knowledgeGraphRef;\n      graphContainer.innerHTML = '<div class=\"graph-placeholder\"><p>知识图谱可视化</p><p>（此处将使用可视化库如D3.js绘制知识图谱）</p></div>';\n    },\n    // 应用知识点\n    applyKnowledge: function applyKnowledge(concept) {\n      this.$emit('knowledge-selected', concept);\n      this.$message.success(\"\\u5DF2\\u5E94\\u7528\\u77E5\\u8BC6\\u70B9\\uFF1A\".concat(concept.title));\n    },\n    // 查看知识点详情\n    viewDetails: function viewDetails(concept) {\n      // 实际应用中应该跳转到知识点详情页或打开详情弹窗\n      this.$alert(concept.description, concept.title, {\n        dangerouslyUseHTMLString: true,\n        confirmButtonText: '关闭'\n      });\n    },\n    // 复习弱点知识点\n    reviewWeakPoint: function reviewWeakPoint(point) {\n      // 实际应用中应该跳转到知识点学习页面\n      this.$message.info(\"\\u5373\\u5C06\\u5F00\\u59CB\\u590D\\u4E60\\uFF1A\".concat(point.title));\n    },\n    // 获取学习路径步骤状态\n    getStepStatus: function getStepStatus(index) {\n      if (index === 0) return 'success';\n      if (index === 1) return 'process';\n      return 'wait';\n    },\n    // 知识图谱缩放控制\n    zoomIn: function zoomIn() {\n      this.graphZoom = Math.min(2, this.graphZoom + 0.1);\n      this.updateGraphZoom();\n    },\n    zoomOut: function zoomOut() {\n      this.graphZoom = Math.max(0.5, this.graphZoom - 0.1);\n      this.updateGraphZoom();\n    },\n    resetGraph: function resetGraph() {\n      this.graphZoom = 1;\n      this.updateGraphZoom();\n    },\n    updateGraphZoom: function updateGraphZoom() {\n      // 实际应用中应该调用图谱库的缩放方法\n      console.log(\"\\u56FE\\u8C31\\u7F29\\u653E\\u81F3 \".concat(this.graphZoom));\n    }\n  }\n};","map":{"version":3,"names":["name","props","currentProblem","type","Object","userContext","required","data","loading","recommendedConcepts","activeConceptNames","showKnowledgeGraph","graph","graphZoom","learningPath","weakPoints","watch","handler","newVal","fetchRecommendations","immediate","_this","$nextTick","initKnowledgeGraph","methods","_this2","_asyncToGenerator","_regenerator","m","_callee","_t","w","_context","n","a","p","simulateFetch","v","console","error","$message","f","_this3","_callee2","_context2","Promise","resolve","setTimeout","id","title","description","examples","formulas","relevance","length","map","wp","concat","proficiency","Math","random","$refs","knowledgeGraphRef","graphContainer","innerHTML","applyKnowledge","concept","$emit","success","viewDetails","$alert","dangerouslyUseHTMLString","confirmButtonText","reviewWeakPoint","point","info","getStepStatus","index","zoomIn","min","updateGraphZoom","zoomOut","max","resetGraph","log"],"sources":["E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\src\\components\\KnowledgeRecommendation.vue"],"sourcesContent":["<!--\r\n  文件名: KnowledgeRecommendation.vue\r\n  描述: 知识推荐模块组件，基于知识图谱和学生模型推荐相关知识点\r\n  创建日期: 2023-06-15\r\n-->\r\n\r\n<template>\r\n  <div class=\"knowledge-recommendation\">\r\n    <div class=\"module-header\">\r\n      <h3>知识点推荐</h3>\r\n      <el-tooltip content=\"基于当前问题和您的学习状况，智能推荐相关知识点\" placement=\"top\">\r\n        <i class=\"el-icon-question\"></i>\r\n      </el-tooltip>\r\n    </div>\r\n    \r\n    <div v-if=\"loading\" class=\"loading-state\">\r\n      <el-skeleton :rows=\"5\" animated />\r\n    </div>\r\n    \r\n    <div v-else-if=\"!currentProblem\" class=\"empty-state\">\r\n      <i class=\"el-icon-document\"></i>\r\n      <p>请选择一道题目以获取相关知识点推荐</p>\r\n    </div>\r\n    \r\n    <template v-else>\r\n      <!-- 当前问题相关概念 -->\r\n      <div class=\"section-header\">\r\n        <span>相关概念</span>\r\n        <el-tag size=\"mini\" type=\"primary\">{{ recommendedConcepts.length }}</el-tag>\r\n      </div>\r\n      \r\n      <div class=\"concepts-container\">\r\n        <el-collapse v-model=\"activeConceptNames\" accordion>\r\n          <el-collapse-item \r\n            v-for=\"concept in recommendedConcepts\" \r\n            :key=\"concept.id\"\r\n            :title=\"concept.title\"\r\n            :name=\"concept.title\"\r\n          >\r\n            <div class=\"concept-content\">\r\n              <div class=\"concept-description\" v-html=\"concept.description\"></div>\r\n              \r\n              <div class=\"concept-examples\" v-if=\"concept.examples && concept.examples.length > 0\">\r\n                <div class=\"example-title\">示例</div>\r\n                <div \r\n                  v-for=\"(example, index) in concept.examples\" \r\n                  :key=\"index\"\r\n                  class=\"example-item\"\r\n                  v-html=\"example\"\r\n                ></div>\r\n              </div>\r\n              \r\n              <div class=\"concept-formulas\" v-if=\"concept.formulas && concept.formulas.length > 0\">\r\n                <div class=\"formula-title\">相关公式</div>\r\n                <div \r\n                  v-for=\"(formula, index) in concept.formulas\" \r\n                  :key=\"index\"\r\n                  class=\"formula-item\"\r\n                  v-html=\"formula\"\r\n                ></div>\r\n              </div>\r\n              \r\n              <div class=\"concept-actions\">\r\n                <el-button \r\n                  type=\"primary\" \r\n                  size=\"mini\" \r\n                  @click=\"applyKnowledge(concept)\"\r\n                  icon=\"el-icon-check\"\r\n                >应用</el-button>\r\n                <el-button \r\n                  type=\"info\" \r\n                  size=\"mini\" \r\n                  @click=\"viewDetails(concept)\"\r\n                  icon=\"el-icon-view\"\r\n                >详情</el-button>\r\n              </div>\r\n            </div>\r\n          </el-collapse-item>\r\n        </el-collapse>\r\n      </div>\r\n      \r\n      <!-- 知识图谱可视化 -->\r\n      <div class=\"section-header\">\r\n        <span>知识图谱</span>\r\n        <el-switch \r\n          v-model=\"showKnowledgeGraph\"\r\n          active-text=\"显示\"\r\n          inactive-text=\"隐藏\"\r\n          size=\"small\"\r\n        ></el-switch>\r\n      </div>\r\n      \r\n      <div v-if=\"showKnowledgeGraph\" class=\"knowledge-graph-container\">\r\n        <div ref=\"knowledgeGraphRef\" class=\"knowledge-graph\"></div>\r\n        <div class=\"graph-controls\">\r\n          <el-button-group size=\"mini\">\r\n            <el-button icon=\"el-icon-zoom-in\" @click=\"zoomIn\"></el-button>\r\n            <el-button icon=\"el-icon-zoom-out\" @click=\"zoomOut\"></el-button>\r\n            <el-button icon=\"el-icon-refresh\" @click=\"resetGraph\"></el-button>\r\n          </el-button-group>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 学习路径推荐 -->\r\n      <div class=\"section-header\">\r\n        <span>学习路径</span>\r\n        <el-tag size=\"mini\" type=\"success\">{{ learningPath.length }}</el-tag>\r\n      </div>\r\n      \r\n      <div class=\"learning-path-container\">\r\n        <el-steps direction=\"vertical\" :active=\"1\">\r\n          <el-step \r\n            v-for=\"(step, index) in learningPath\" \r\n            :key=\"step.id\"\r\n            :title=\"step.title\"\r\n            :description=\"step.description\"\r\n            :status=\"getStepStatus(index)\"\r\n          ></el-step>\r\n        </el-steps>\r\n      </div>\r\n      \r\n      <!-- 历史弱点提示 -->\r\n      <div v-if=\"weakPoints.length > 0\" class=\"section-header\">\r\n        <span>需要注意的知识点</span>\r\n        <el-tag size=\"mini\" type=\"danger\">{{ weakPoints.length }}</el-tag>\r\n      </div>\r\n      \r\n      <div v-if=\"weakPoints.length > 0\" class=\"weak-points-container\">\r\n        <el-alert\r\n          v-for=\"point in weakPoints\"\r\n          :key=\"point.id\"\r\n          :title=\"point.title\"\r\n          :description=\"point.description\"\r\n          type=\"warning\"\r\n          show-icon\r\n          :closable=\"false\"\r\n          style=\"margin-bottom: 10px;\"\r\n        >\r\n          <el-button \r\n            slot=\"title\" \r\n            size=\"mini\" \r\n            type=\"text\" \r\n            class=\"review-button\"\r\n            @click=\"reviewWeakPoint(point)\"\r\n          >\r\n            立即复习\r\n          </el-button>\r\n        </el-alert>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'KnowledgeRecommendation',\r\n  \r\n  props: {\r\n    // 当前问题\r\n    currentProblem: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    \r\n    // 用户上下文\r\n    userContext: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  \r\n  data() {\r\n    return {\r\n      // 加载状态\r\n      loading: false,\r\n      \r\n      // 知识点推荐\r\n      recommendedConcepts: [],\r\n      \r\n      // 展开的概念\r\n      activeConceptNames: [],\r\n      \r\n      // 知识图谱显示\r\n      showKnowledgeGraph: true,\r\n      \r\n      // 知识图谱实例\r\n      graph: null,\r\n      graphZoom: 1,\r\n      \r\n      // 学习路径\r\n      learningPath: [],\r\n      \r\n      // 弱点知识点\r\n      weakPoints: []\r\n    };\r\n  },\r\n  \r\n  watch: {\r\n    // 监听当前问题变化，更新推荐\r\n    currentProblem: {\r\n      handler(newVal) {\r\n        if (newVal) {\r\n          this.fetchRecommendations();\r\n        } else {\r\n          this.recommendedConcepts = [];\r\n          this.learningPath = [];\r\n          this.weakPoints = [];\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    \r\n    // 监听知识图谱显示状态\r\n    showKnowledgeGraph(newVal) {\r\n      if (newVal) {\r\n        this.$nextTick(() => {\r\n          this.initKnowledgeGraph();\r\n        });\r\n      }\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    // 获取知识点推荐\r\n    async fetchRecommendations() {\r\n      if (!this.currentProblem) return;\r\n      \r\n      this.loading = true;\r\n      \r\n      try {\r\n        // 实际应用中应调用API获取推荐\r\n        // 这里使用模拟数据\r\n        await this.simulateFetch();\r\n        \r\n        // 初始化知识图谱\r\n        if (this.showKnowledgeGraph) {\r\n          this.$nextTick(() => {\r\n            this.initKnowledgeGraph();\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('获取知识点推荐失败', error);\r\n        this.$message.error('获取知识点推荐失败');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // 模拟获取数据\r\n    async simulateFetch() {\r\n      // 模拟API延迟\r\n      await new Promise(resolve => setTimeout(resolve, 800));\r\n      \r\n      // 根据当前问题生成模拟数据\r\n      if (this.currentProblem.type === 'algebra') {\r\n        this.recommendedConcepts = [\r\n          {\r\n            id: 'c1',\r\n            title: '一元二次方程',\r\n            description: '一元二次方程是指含有一个未知数，并且未知数的最高次数为2的方程。一般形式为：ax² + bx + c = 0，其中a、b、c是实数，且a ≠ 0。',\r\n            examples: [\r\n              '例如：3x² - 5x + 2 = 0',\r\n              '例如：x² - 4 = 0'\r\n            ],\r\n            formulas: [\r\n              '判别式：Δ = b² - 4ac',\r\n              '求根公式：x = (-b ± √(b² - 4ac)) / (2a)'\r\n            ],\r\n            relevance: 0.95\r\n          },\r\n          {\r\n            id: 'c2',\r\n            title: '因式分解',\r\n            description: '因式分解是将一个多项式表示成若干个多项式的乘积的形式。常用方法包括提取公因式、运用公式法、分组分解法等。',\r\n            examples: [\r\n              '例如：x² - 4 = (x - 2)(x + 2)',\r\n              '例如：x² + 2x + 1 = (x + 1)²'\r\n            ],\r\n            formulas: [\r\n              '平方差公式：a² - b² = (a - b)(a + b)',\r\n              '完全平方公式：a² + 2ab + b² = (a + b)²',\r\n              'a² - 2ab + b² = (a - b)²'\r\n            ],\r\n            relevance: 0.85\r\n          },\r\n          {\r\n            id: 'c3',\r\n            title: '配方法',\r\n            description: '配方法是解一元二次方程的一种方法，通过恰当地变形，使方程中的二次项和一次项变成一个完全平方式。',\r\n            examples: [\r\n              '例如：将x² + 6x + 5 = 0变形为(x + 3)² = 4，然后求解'\r\n            ],\r\n            formulas: [\r\n              '配方公式：x² + px = x² + px + (p/2)² - (p/2)² = (x + p/2)² - (p/2)²'\r\n            ],\r\n            relevance: 0.78\r\n          }\r\n        ];\r\n        \r\n        this.learningPath = [\r\n          {\r\n            id: 'p1',\r\n            title: '一元二次方程的概念',\r\n            description: '了解一元二次方程的定义和一般形式'\r\n          },\r\n          {\r\n            id: 'p2',\r\n            title: '因式分解法解方程',\r\n            description: '掌握利用因式分解解一元二次方程'\r\n          },\r\n          {\r\n            id: 'p3',\r\n            title: '配方法解方程',\r\n            description: '学习配方法的基本步骤和应用'\r\n          },\r\n          {\r\n            id: 'p4',\r\n            title: '公式法解方程',\r\n            description: '掌握并灵活运用求根公式'\r\n          }\r\n        ];\r\n        \r\n        this.weakPoints = [\r\n          {\r\n            id: 'w1',\r\n            title: '判别式的应用',\r\n            description: '根据历史学习记录，您在使用判别式判断方程根的情况时存在困难'\r\n          }\r\n        ];\r\n      } else if (this.currentProblem.type === 'geometry') {\r\n        // 为几何问题生成不同的推荐\r\n        this.recommendedConcepts = [\r\n          {\r\n            id: 'c4',\r\n            title: '相似三角形',\r\n            description: '相似三角形是指形状相同但大小可能不同的三角形。两个三角形相似，当且仅当它们的对应角相等，对应边成比例。',\r\n            examples: [\r\n              '例如：两个三角形，如果有两个角相等，则这两个三角形相似'\r\n            ],\r\n            formulas: [\r\n              '相似三角形的对应边成比例：a/a\\' = b/b\\' = c/c\\'',\r\n              '相似三角形的面积比等于对应边长比的平方：S/S\\' = (a/a\\')²'\r\n            ],\r\n            relevance: 0.92\r\n          },\r\n          // 其他几何概念...\r\n        ];\r\n        \r\n        // 其他几何相关数据...\r\n      } else {\r\n        // 默认推荐\r\n        this.recommendedConcepts = [\r\n          {\r\n            id: 'c5',\r\n            title: '基本数学概念',\r\n            description: '针对当前问题的基本数学概念介绍',\r\n            examples: ['示例问题1', '示例问题2'],\r\n            formulas: ['相关公式1', '相关公式2'],\r\n            relevance: 0.75\r\n          }\r\n        ];\r\n      }\r\n      \r\n      // 根据用户上下文个性化推荐\r\n      if (this.userContext.weakPoints && this.userContext.weakPoints.length > 0) {\r\n        // 添加用户弱点相关的知识点\r\n        this.weakPoints = this.userContext.weakPoints.map(wp => ({\r\n          id: `w${wp.id}`,\r\n          title: wp.name,\r\n          description: `您在此知识点的掌握程度较弱，建议复习。掌握度: ${wp.proficiency}%`\r\n        }));\r\n      }\r\n      \r\n      // 随机决定是否展开第一个概念\r\n      if (this.recommendedConcepts.length > 0 && Math.random() > 0.5) {\r\n        this.activeConceptNames = [this.recommendedConcepts[0].title];\r\n      }\r\n    },\r\n    \r\n    // 初始化知识图谱可视化\r\n    initKnowledgeGraph() {\r\n      if (!this.$refs.knowledgeGraphRef) return;\r\n      \r\n      // 在实际应用中，应该使用可视化库如D3.js、ECharts或vis.js\r\n      // 这里仅添加一个提示，表示该功能需要进一步实现\r\n      const graphContainer = this.$refs.knowledgeGraphRef;\r\n      graphContainer.innerHTML = '<div class=\"graph-placeholder\"><p>知识图谱可视化</p><p>（此处将使用可视化库如D3.js绘制知识图谱）</p></div>';\r\n    },\r\n    \r\n    // 应用知识点\r\n    applyKnowledge(concept) {\r\n      this.$emit('knowledge-selected', concept);\r\n      this.$message.success(`已应用知识点：${concept.title}`);\r\n    },\r\n    \r\n    // 查看知识点详情\r\n    viewDetails(concept) {\r\n      // 实际应用中应该跳转到知识点详情页或打开详情弹窗\r\n      this.$alert(concept.description, concept.title, {\r\n        dangerouslyUseHTMLString: true,\r\n        confirmButtonText: '关闭'\r\n      });\r\n    },\r\n    \r\n    // 复习弱点知识点\r\n    reviewWeakPoint(point) {\r\n      // 实际应用中应该跳转到知识点学习页面\r\n      this.$message.info(`即将开始复习：${point.title}`);\r\n    },\r\n    \r\n    // 获取学习路径步骤状态\r\n    getStepStatus(index) {\r\n      if (index === 0) return 'success';\r\n      if (index === 1) return 'process';\r\n      return 'wait';\r\n    },\r\n    \r\n    // 知识图谱缩放控制\r\n    zoomIn() {\r\n      this.graphZoom = Math.min(2, this.graphZoom + 0.1);\r\n      this.updateGraphZoom();\r\n    },\r\n    \r\n    zoomOut() {\r\n      this.graphZoom = Math.max(0.5, this.graphZoom - 0.1);\r\n      this.updateGraphZoom();\r\n    },\r\n    \r\n    resetGraph() {\r\n      this.graphZoom = 1;\r\n      this.updateGraphZoom();\r\n    },\r\n    \r\n    updateGraphZoom() {\r\n      // 实际应用中应该调用图谱库的缩放方法\r\n      console.log(`图谱缩放至 ${this.graphZoom}`);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.knowledge-recommendation {\r\n  height: 100%;\r\n  padding: 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-y: hidden;\r\n}\r\n\r\n.module-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.module-header h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  color: #303133;\r\n  margin-right: 8px;\r\n}\r\n\r\n.module-header i {\r\n  color: #909399;\r\n  cursor: help;\r\n}\r\n\r\n.loading-state {\r\n  padding: 10px;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 150px;\r\n  color: #909399;\r\n}\r\n\r\n.empty-state i {\r\n  font-size: 36px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 15px 0 10px;\r\n  padding-bottom: 5px;\r\n  border-bottom: 1px solid #ebeef5;\r\n  font-weight: 500;\r\n  color: #303133;\r\n}\r\n\r\n.concepts-container {\r\n  margin-bottom: 15px;\r\n  overflow-y: auto;\r\n  max-height: 300px;\r\n}\r\n\r\n.concept-content {\r\n  padding: 5px;\r\n}\r\n\r\n.concept-description {\r\n  margin-bottom: 10px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.example-title, .formula-title {\r\n  font-weight: 500;\r\n  margin-bottom: 5px;\r\n  color: #303133;\r\n}\r\n\r\n.example-item, .formula-item {\r\n  background-color: #f5f7fa;\r\n  padding: 5px 10px;\r\n  margin-bottom: 5px;\r\n  border-radius: 4px;\r\n  font-family: monospace;\r\n}\r\n\r\n.concept-actions {\r\n  margin-top: 10px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.knowledge-graph-container {\r\n  position: relative;\r\n  height: 200px;\r\n  background-color: #f5f7fa;\r\n  border-radius: 4px;\r\n  margin-bottom: 15px;\r\n  overflow: hidden;\r\n}\r\n\r\n.knowledge-graph {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.graph-controls {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.graph-placeholder {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  color: #909399;\r\n  text-align: center;\r\n}\r\n\r\n.learning-path-container {\r\n  margin-bottom: 15px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.weak-points-container {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.review-button {\r\n  margin-left: 10px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}