{"remainingRequest":"E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\src\\components\\IntegratedHomeworkPage.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\src\\components\\IntegratedHomeworkPage.vue","mtime":1755499037706},{"path":"E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749988910140},{"path":"E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\node_modules\\babel-loader\\lib\\index.js","mtime":1749988912220},{"path":"E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1749988910140},{"path":"E:\\program development\\The Digital and Intelligent Ecosystem for K-12 Mathematics Education\\homework_system\\node_modules\\vue-loader\\lib\\index.js","mtime":1749988913356}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7DQppbXBvcnQgSG9tZXdvcmtNYW5hZ2VtZW50IGZyb20gJy4vSG9tZXdvcmtNYW5hZ2VtZW50LnZ1ZSc7DQppbXBvcnQgS25vd2xlZGdlUmVjb21tZW5kYXRpb24gZnJvbSAnLi9Lbm93bGVkZ2VSZWNvbW1lbmRhdGlvbi52dWUnOw0KaW1wb3J0IEV4ZXJjaXNlUmVjb21tZW5kYXRpb24gZnJvbSAnLi9FeGVyY2lzZVJlY29tbWVuZGF0aW9uLnZ1ZSc7DQppbXBvcnQgRmVlZGJhY2tNb2R1bGUgZnJvbSAnLi9GZWVkYmFja01vZHVsZS52dWUnOw0KaW1wb3J0IHsgZm9ybWF0RGF0ZSB9IGZyb20gJy4uL3V0aWxzL2RhdGVGb3JtYXQnOw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnSW50ZWdyYXRlZEhvbWV3b3JrUGFnZScsDQoNCiAgY29tcG9uZW50czogew0KICAgIEhvbWV3b3JrTWFuYWdlbWVudCwNCiAgICBLbm93bGVkZ2VSZWNvbW1lbmRhdGlvbiwNCiAgICBFeGVyY2lzZVJlY29tbWVuZGF0aW9uLA0KICAgIEZlZWRiYWNrTW9kdWxlDQogIH0sDQoNCg0KICANCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBzdWJtaXR0aW5nOiBmYWxzZSwNCiAgICAgIHNhdmluZzogZmFsc2UsDQogICAgICBhY3RpdmVQcm9ibGVtSWRzOiBbXSwNCiAgICAgIGFjdGl2ZVRhYjogJ2tub3dsZWRnZScsDQogICAgICBhbnN3ZXJzOiB7fSwNCiAgICAgIGZlZWRiYWNrOiBudWxsLA0KICAgICAgc2F2ZVRpbWVvdXQ6IG51bGwsDQoNCiAgICAgIC8vIOW9k+WJjemAieS4reeahOmimOebrklE77yI55So5LqO5Y+z5L6n5o6o6I2Q77yJDQogICAgICBzZWxlY3RlZFF1ZXN0aW9uSWQ6IG51bGwsDQoNCiAgICAgIC8vIOWTjeW6lOW8j+W4g+WxgOebuOWFsw0KICAgICAgaXNNb2JpbGU6IGZhbHNlLA0KICAgICAgc2hvd0xlZnRQYW5lbDogZmFsc2UsDQogICAgICBzaG93UmlnaHRQYW5lbDogZmFsc2UsDQoNCiAgICAgIC8vIOespuWPt+aOqOiNkOebuOWFsw0KICAgICAgc2hvd1N5bWJvbFBhbmVsOiBmYWxzZSwNCiAgICAgIHN5bWJvbExvYWRpbmc6IGZhbHNlLA0KICAgICAgY3VycmVudFF1ZXN0aW9uOiBudWxsLA0KICAgICAgcmVjb21tZW5kZWRTeW1ib2xzOiBbXSwNCg0KICAgICAgLy8g5Z+656GA5pWw5a2m56ym5Y+3DQogICAgICBiYXNpY1N5bWJvbHM6IFsNCiAgICAgICAgeyBpZDogMSwgc3ltYm9sOiAnKycsIGRlc2NyaXB0aW9uOiAn5Yqg5Y+3JyB9LA0KICAgICAgICB7IGlkOiAyLCBzeW1ib2w6ICctJywgZGVzY3JpcHRpb246ICflh4/lj7cnIH0sDQogICAgICAgIHsgaWQ6IDMsIHN5bWJvbDogJ8OXJywgZGVzY3JpcHRpb246ICfkuZjlj7cnIH0sDQogICAgICAgIHsgaWQ6IDQsIHN5bWJvbDogJ8O3JywgZGVzY3JpcHRpb246ICfpmaTlj7cnIH0sDQogICAgICAgIHsgaWQ6IDUsIHN5bWJvbDogJz0nLCBkZXNjcmlwdGlvbjogJ+etieWPtycgfSwNCiAgICAgICAgeyBpZDogNiwgc3ltYm9sOiAn4omgJywgZGVzY3JpcHRpb246ICfkuI3nrYnlj7cnIH0sDQogICAgICAgIHsgaWQ6IDcsIHN5bWJvbDogJz4nLCBkZXNjcmlwdGlvbjogJ+Wkp+S6jicgfSwNCiAgICAgICAgeyBpZDogOCwgc3ltYm9sOiAnPCcsIGRlc2NyaXB0aW9uOiAn5bCP5LqOJyB9LA0KICAgICAgICB7IGlkOiA5LCBzeW1ib2w6ICfiiaUnLCBkZXNjcmlwdGlvbjogJ+Wkp+S6juetieS6jicgfSwNCiAgICAgICAgeyBpZDogMTAsIHN5bWJvbDogJ+KJpCcsIGRlc2NyaXB0aW9uOiAn5bCP5LqO562J5LqOJyB9LA0KICAgICAgICB7IGlkOiAxMSwgc3ltYm9sOiAnwrInLCBkZXNjcmlwdGlvbjogJ+W5s+aWuScgfSwNCiAgICAgICAgeyBpZDogMTIsIHN5bWJvbDogJ8KzJywgZGVzY3JpcHRpb246ICfnq4vmlrknIH0sDQogICAgICAgIHsgaWQ6IDEzLCBzeW1ib2w6ICfiiJonLCBkZXNjcmlwdGlvbjogJ+agueWPtycgfSwNCiAgICAgICAgeyBpZDogMTQsIHN5bWJvbDogJ8+AJywgZGVzY3JpcHRpb246ICflnIblkajnjocnIH0NCiAgICAgIF0sDQoNCiAgICAgIC8vIOWHoOS9leespuWPtw0KICAgICAgZ2VvbWV0cnlTeW1ib2xzOiBbDQogICAgICAgIHsgaWQ6IDE1LCBzeW1ib2w6ICfiiKAnLCBkZXNjcmlwdGlvbjogJ+inkicgfSwNCiAgICAgICAgeyBpZDogMTYsIHN5bWJvbDogJ+KWsycsIGRlc2NyaXB0aW9uOiAn5LiJ6KeS5b2iJyB9LA0KICAgICAgICB7IGlkOiAxNywgc3ltYm9sOiAn4pahJywgZGVzY3JpcHRpb246ICfmraPmlrnlvaInIH0sDQogICAgICAgIHsgaWQ6IDE4LCBzeW1ib2w6ICfil4snLCBkZXNjcmlwdGlvbjogJ+WchicgfSwNCiAgICAgICAgeyBpZDogMTksIHN5bWJvbDogJ+KIpScsIGRlc2NyaXB0aW9uOiAn5bmz6KGMJyB9LA0KICAgICAgICB7IGlkOiAyMCwgc3ltYm9sOiAn4oqlJywgZGVzY3JpcHRpb246ICflnoLnm7QnIH0sDQogICAgICAgIHsgaWQ6IDIxLCBzeW1ib2w6ICfiiL0nLCBkZXNjcmlwdGlvbjogJ+ebuOS8vCcgfSwNCiAgICAgICAgeyBpZDogMjIsIHN5bWJvbDogJ+KJhScsIGRlc2NyaXB0aW9uOiAn5YWo562JJyB9DQogICAgICBdDQogICAgfTsNCiAgfSwNCiAgDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyh7DQogICAgICB1c2VyOiAnZ2V0VXNlcicsDQogICAgICBob21ld29ya3M6ICdnZXRIb21ld29ya3MnLA0KICAgICAgY3VycmVudEhvbWV3b3JrOiAnZ2V0Q3VycmVudEhvbWV3b3JrJywNCiAgICAgIHVzZXJDb250ZXh0OiAnZ2V0VXNlckNvbnRleHQnDQogICAgfSksDQogICAgDQogICAgLy8g5b2T5YmN6YCJ5Lit55qE6Zeu6aKY77yI55So5LqO5Y+z5L6n5o6o6I2Q77yJDQogICAgY3VycmVudFByb2JsZW0oKSB7DQogICAgICBpZiAoIXRoaXMuY3VycmVudEhvbWV3b3JrIHx8ICF0aGlzLnNlbGVjdGVkUXVlc3Rpb25JZCkgcmV0dXJuIG51bGw7DQoNCiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRIb21ld29yay5xdWVzdGlvbnMuZmluZCgNCiAgICAgICAgcXVlc3Rpb24gPT4gcXVlc3Rpb24uaWQgPT09IHRoaXMuc2VsZWN0ZWRRdWVzdGlvbklkDQogICAgICApOw0KICAgIH0sDQogICAgDQogICAgLy8g5piv5ZCm5Y+v5Lul5o+Q5LqkDQogICAgY2FuU3VibWl0KCkgew0KICAgICAgaWYgKCF0aGlzLmN1cnJlbnRIb21ld29yaykgcmV0dXJuIGZhbHNlOw0KICAgICAgDQogICAgICAvLyDmo4Dmn6XmmK/lkKbmiYDmnInpl67popjpg73lt7Llm57nrZQNCiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRIb21ld29yay5xdWVzdGlvbnMuZXZlcnkoDQogICAgICAgIHF1ZXN0aW9uID0+IHRoaXMuYW5zd2Vyc1txdWVzdGlvbi5pZF0NCiAgICAgICk7DQogICAgfQ0KICB9LA0KICANCiAgY3JlYXRlZCgpIHsNCiAgICAvLyDphY3nva5heGlvc+WunuS+iw0KICAgIHRoaXMuJGh0dHAgPSBheGlvcy5jcmVhdGUoew0KICAgICAgYmFzZVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCcsDQogICAgICB0aW1lb3V0OiAxMDAwMA0KICAgIH0pOw0KDQogICAgLy8g5Yid5aeL5YyW5pWw5o2uDQogICAgdGhpcy5pbml0aWFsaXplRGF0YSgpOw0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgLy8g5Yid5aeL5YyW5ZON5bqU5byP5qOA5p+lDQogICAgdGhpcy5jaGVja01vYmlsZSgpOw0KDQogICAgLy8g55uR5ZCs56qX5Y+j5aSn5bCP5Y+Y5YyWDQogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKTsNCiAgfSwNCg0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIC8vIOenu+mZpOS6i+S7tuebkeWQrA0KICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSk7DQogIH0sDQogIA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucyhbDQogICAgICAnbG9naW4nLA0KICAgICAgJ2ZldGNoSG9tZXdvcmtzJywNCiAgICAgICdmZXRjaEhvbWV3b3JrRGV0YWlsJywNCiAgICAgICdmZXRjaFVzZXJDb250ZXh0JywNCiAgICAgICdzdWJtaXRIb21ld29yaycsDQogICAgICAnc2F2ZUhvbWV3b3JrUHJvZ3Jlc3MnDQogICAgXSksDQogICAgDQogICAgLy8g5Yid5aeL5YyW5pWw5o2uDQogICAgYXN5bmMgaW5pdGlhbGl6ZURhdGEoKSB7DQogICAgICB0cnkgew0KICAgICAgICAvLyDmqKHmi5/nmbvlvZUNCiAgICAgICAgYXdhaXQgdGhpcy5sb2dpbih7IHVzZXJuYW1lOiAnc3R1ZGVudCcsIHBhc3N3b3JkOiAncGFzc3dvcmQnIH0pOw0KICAgICAgICANCiAgICAgICAgLy8g6I635Y+W5L2c5Lia5YiX6KGoDQogICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hIb21ld29ya3MoKTsNCiAgICAgICAgDQogICAgICAgIC8vIOiOt+WPlueUqOaIt+S4iuS4i+aWhw0KICAgICAgICBhd2FpdCB0aGlzLmZldGNoVXNlckNvbnRleHQoKTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIneWni+WMluaVsOaNruWksei0pScsIGVycm9yKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yqg6L295pWw5o2u5aSx6LSl77yM6K+35Yi35paw6aG16Z2i6YeN6K+VJyk7DQogICAgICB9DQogICAgfSwNCiAgICANCiAgICAvLyDpgInmi6nkvZzkuJoNCiAgICBhc3luYyBzZWxlY3RIb21ld29yayhob21ld29ya0lkKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgdGhpcy5hbnN3ZXJzID0ge307DQogICAgICB0aGlzLmZlZWRiYWNrID0gbnVsbDsNCiAgICAgIA0KICAgICAgdHJ5IHsNCiAgICAgICAgLy8g6I635Y+W5L2c5Lia6K+m5oOFDQogICAgICAgIGNvbnN0IGhvbWV3b3JrID0gYXdhaXQgdGhpcy5mZXRjaEhvbWV3b3JrRGV0YWlsKGhvbWV3b3JrSWQpOw0KICAgICAgICANCiAgICAgICAgLy8g5Yid5aeL5YyW562U5qGIDQogICAgICAgIGlmIChob21ld29yay5zYXZlZEFuc3dlcnMpIHsNCiAgICAgICAgICB0aGlzLmFuc3dlcnMgPSB7IC4uLmhvbWV3b3JrLnNhdmVkQW5zd2VycyB9Ow0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyDlpoLmnpzmmK/lt7LmibnmlLnnmoTkvZzkuJrvvIzmmL7npLrlj43ppogNCiAgICAgICAgaWYgKGhvbWV3b3JrLnN0YXR1cyA9PT0gJ2dyYWRlZCcgJiYgaG9tZXdvcmsuZmVlZGJhY2spIHsNCiAgICAgICAgICB0aGlzLmZlZWRiYWNrID0gaG9tZXdvcmsuZmVlZGJhY2s7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vIOm7mOiupOWxleW8gOaJgOaciemXrumimA0KICAgICAgICBpZiAoaG9tZXdvcmsucXVlc3Rpb25zICYmIGhvbWV3b3JrLnF1ZXN0aW9ucy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5hY3RpdmVQcm9ibGVtSWRzID0gaG9tZXdvcmsucXVlc3Rpb25zLm1hcChxID0+IHEuaWQpOw0KICAgICAgICAgIC8vIOm7mOiupOmAieS4reesrOS4gOS4qumimOebrueUqOS6juWPs+S+p+aOqOiNkA0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRRdWVzdGlvbklkID0gaG9tZXdvcmsucXVlc3Rpb25zWzBdLmlkOw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bkvZzkuJror6bmg4XlpLHotKUnLCBlcnJvcik7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluS9nOS4muivpuaDheWksei0pScpOw0KICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCiAgICANCiAgICAvLyDkv53lrZjov5vluqYNCiAgICBzYXZlUHJvZ3Jlc3MoKSB7DQogICAgICAvLyDpmLLmipblpITnkIbvvIzpgb/lhY3popHnuYHkv53lrZgNCiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNhdmVUaW1lb3V0KTsNCiAgICAgIHRoaXMuc2F2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsNCiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRIb21ld29yaykgcmV0dXJuOw0KDQogICAgICAgIHRoaXMuc2F2aW5nID0gdHJ1ZTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUhvbWV3b3JrUHJvZ3Jlc3Moew0KICAgICAgICAgICAgaG9tZXdvcmtJZDogdGhpcy5jdXJyZW50SG9tZXdvcmsuaWQsDQogICAgICAgICAgICBhbnN3ZXJzOiB0aGlzLmFuc3dlcnMNCiAgICAgICAgICB9KTsNCg0KICAgICAgICAgIC8vIOenu+mZpOmikee5geeahOaIkOWKn+aPkOekug0KICAgICAgICAgIC8vIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6L+b5bqm5bey5L+d5a2YJyk7DQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgY29uc29sZS5lcnJvcign5L+d5a2Y6L+b5bqm5aSx6LSlJywgZXJyb3IpOw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S/neWtmOi/m+W6puWksei0pScpOw0KICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgIHRoaXMuc2F2aW5nID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0sIDEwMDApOw0KICAgIH0sDQogICAgDQogICAgLy8g5o+Q5Lqk5L2c5LiaDQogICAgYXN5bmMgc3VibWl0SG9tZXdvcmsoKSB7DQogICAgICBpZiAoIXRoaXMuY3VycmVudEhvbWV3b3JrKSByZXR1cm47DQogICAgICANCiAgICAgIHRoaXMuc3VibWl0dGluZyA9IHRydWU7DQogICAgICANCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc3VibWl0SG9tZXdvcmsoew0KICAgICAgICAgIGhvbWV3b3JrSWQ6IHRoaXMuY3VycmVudEhvbWV3b3JrLmlkLA0KICAgICAgICAgIGFuc3dlcnM6IHRoaXMuYW5zd2Vycw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L2c5Lia5o+Q5Lqk5oiQ5YqfJyk7DQogICAgICAgIA0KICAgICAgICAvLyDmmL7npLrlj43ppogNCiAgICAgICAgaWYgKHJlc3VsdC5mZWVkYmFjaykgew0KICAgICAgICAgIHRoaXMuZmVlZGJhY2sgPSByZXN1bHQuZmVlZGJhY2s7DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aPkOS6pOS9nOS4muWksei0pScsIGVycm9yKTsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5o+Q5Lqk5L2c5Lia5aSx6LSlJyk7DQogICAgICB9IGZpbmFsbHkgew0KICAgICAgICB0aGlzLnN1Ym1pdHRpbmcgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIC8vIOW6lOeUqOefpeivhueCuQ0KICAgIGFwcGx5S25vd2xlZGdlKGtub3dsZWRnZSkgew0KICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQcm9ibGVtKSByZXR1cm47DQogICAgICANCiAgICAgIC8vIOWcqOW9k+WJjeetlOahiOS4reaPkuWFpeefpeivhueCuQ0KICAgICAgY29uc3QgcHJvYmxlbUlkID0gdGhpcy5jdXJyZW50UHJvYmxlbS5pZDsNCiAgICAgIGNvbnN0IGN1cnJlbnRBbnN3ZXIgPSB0aGlzLmFuc3dlcnNbcHJvYmxlbUlkXSB8fCAnJzsNCiAgICAgIA0KICAgICAgLy8g5qC55o2u55+l6K+G54K557G75Z6L5bqU55So5LiN5ZCM55qE5YaF5a65DQogICAgICBsZXQgY29udGVudFRvSW5zZXJ0ID0gJyc7DQogICAgICANCiAgICAgIGlmIChrbm93bGVkZ2UuZm9ybXVsYXMgJiYga25vd2xlZGdlLmZvcm11bGFzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgY29udGVudFRvSW5zZXJ0ID0ga25vd2xlZGdlLmZvcm11bGFzWzBdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29udGVudFRvSW5zZXJ0ID0ga25vd2xlZGdlLnRpdGxlOw0KICAgICAgfQ0KICAgICAgDQogICAgICB0aGlzLmFuc3dlcnNbcHJvYmxlbUlkXSA9IGN1cnJlbnRBbnN3ZXIgKyAnXG4nICsgY29udGVudFRvSW5zZXJ0Ow0KICAgICAgdGhpcy5zYXZlUHJvZ3Jlc3MoKTsNCiAgICB9LA0KICAgIA0KICAgIC8vIOmAieaLqee7g+S5oA0KICAgIHNlbGVjdEV4ZXJjaXNlKGV4ZXJjaXNlKSB7DQogICAgICAvLyDlrp7pmYXlupTnlKjkuK3lupTot7PovazliLDnu4PkuaDpobXpnaINCiAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbyhg5Y2z5bCG5byA5aeL57uD5Lmg77yaJHtleGVyY2lzZS50aXRsZX1gKTsNCiAgICB9LA0KDQogICAgLy8g6YCJ5oup6aKY55uu77yI55So5LqO5Y+z5L6n5o6o6I2Q77yJDQogICAgc2VsZWN0UXVlc3Rpb24ocXVlc3Rpb25JZCkgew0KICAgICAgdGhpcy5zZWxlY3RlZFF1ZXN0aW9uSWQgPSBxdWVzdGlvbklkOw0KICAgIH0sDQoNCiAgICAvLyDlk43lupTlvI/luIPlsYDmlrnms5UNCg0KICAgIC8vIOajgOafpeaYr+WQpuS4uuenu+WKqOerrw0KICAgIGNoZWNrTW9iaWxlKCkgew0KICAgICAgdGhpcy5pc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2ODsNCiAgICB9LA0KDQogICAgLy8g5YiH5o2i5bem5L6n6Z2i5p2/DQogICAgdG9nZ2xlTGVmdFBhbmVsKCkgew0KICAgICAgY29uc29sZS5sb2coJ3RvZ2dsZUxlZnRQYW5lbCBjYWxsZWQsIGN1cnJlbnQgc3RhdGU6JywgdGhpcy5zaG93TGVmdFBhbmVsKTsNCiAgICAgIGNvbnNvbGUubG9nKCdpc01vYmlsZTonLCB0aGlzLmlzTW9iaWxlKTsNCiAgICAgIHRoaXMuc2hvd0xlZnRQYW5lbCA9ICF0aGlzLnNob3dMZWZ0UGFuZWw7DQogICAgICBpZiAodGhpcy5zaG93TGVmdFBhbmVsKSB7DQogICAgICAgIHRoaXMuc2hvd1JpZ2h0UGFuZWwgPSBmYWxzZTsgLy8g5YWz6Zet5Y+z5L6n6Z2i5p2/DQogICAgICB9DQogICAgICBjb25zb2xlLmxvZygnbmV3IHNob3dMZWZ0UGFuZWwgc3RhdGU6JywgdGhpcy5zaG93TGVmdFBhbmVsKTsNCiAgICB9LA0KDQogICAgLy8g5YiH5o2i5Y+z5L6n6Z2i5p2/DQogICAgdG9nZ2xlUmlnaHRQYW5lbCgpIHsNCiAgICAgIGNvbnNvbGUubG9nKCd0b2dnbGVSaWdodFBhbmVsIGNhbGxlZCwgY3VycmVudCBzdGF0ZTonLCB0aGlzLnNob3dSaWdodFBhbmVsKTsNCiAgICAgIGNvbnNvbGUubG9nKCdpc01vYmlsZTonLCB0aGlzLmlzTW9iaWxlKTsNCiAgICAgIHRoaXMuc2hvd1JpZ2h0UGFuZWwgPSAhdGhpcy5zaG93UmlnaHRQYW5lbDsNCiAgICAgIGlmICh0aGlzLnNob3dSaWdodFBhbmVsKSB7DQogICAgICAgIHRoaXMuc2hvd0xlZnRQYW5lbCA9IGZhbHNlOyAvLyDlhbPpl63lt6bkvqfpnaLmnb8NCiAgICAgIH0NCiAgICAgIGNvbnNvbGUubG9nKCduZXcgc2hvd1JpZ2h0UGFuZWwgc3RhdGU6JywgdGhpcy5zaG93UmlnaHRQYW5lbCk7DQogICAgfSwNCg0KICAgIC8vIOmakOiXj+W3puS+p+mdouadvw0KICAgIGhpZGVMZWZ0UGFuZWwoKSB7DQogICAgICB0aGlzLnNob3dMZWZ0UGFuZWwgPSBmYWxzZTsNCiAgICB9LA0KDQogICAgLy8g6ZqQ6JeP5Y+z5L6n6Z2i5p2/DQogICAgaGlkZVJpZ2h0UGFuZWwoKSB7DQogICAgICB0aGlzLnNob3dSaWdodFBhbmVsID0gZmFsc2U7DQogICAgfSwNCg0KICAgIC8vIOeql+WPo+Wkp+Wwj+WPmOWMluWkhOeQhg0KICAgIGhhbmRsZVJlc2l6ZSgpIHsNCiAgICAgIHRoaXMuY2hlY2tNb2JpbGUoKTsNCg0KICAgICAgLy8g5aaC5p6c5YiH5o2i5Yiw5qGM6Z2i56uv77yM6YeN572u6Z2i5p2/54q25oCBDQogICAgICBpZiAoIXRoaXMuaXNNb2JpbGUpIHsNCiAgICAgICAgdGhpcy5zaG93TGVmdFBhbmVsID0gZmFsc2U7DQogICAgICAgIHRoaXMuc2hvd1JpZ2h0UGFuZWwgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgLy8g56ym5Y+35o6o6I2Q55u45YWz5pa55rOVDQoNCiAgICAvLyDnrZTmoYjovpPlhaXmoYbojrflvpfnhKbngrnml7YNCiAgICBhc3luYyBvbkFuc3dlckZvY3VzKHF1ZXN0aW9uLCBldmVudCkgew0KICAgICAgdGhpcy5jdXJyZW50UXVlc3Rpb24gPSBxdWVzdGlvbjsNCiAgICAgIHRoaXMuc2hvd1N5bWJvbFBhbmVsID0gdHJ1ZTsNCg0KICAgICAgLy8g5pu05paw6YCJ5Lit55qE6aKY55uu77yI55So5LqO5Y+z5L6n5o6o6I2Q77yJDQogICAgICB0aGlzLnNlbGVjdGVkUXVlc3Rpb25JZCA9IHF1ZXN0aW9uLmlkOw0KDQogICAgICAvLyDlubPmu5Hmu5rliqjnoa7kv53pnaLmnb/lj6/op4ENCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZXZlbnQudGFyZ2V0Ow0KICAgICAgICAgIGlmIChpbnB1dEVsZW1lbnQpIHsNCiAgICAgICAgICAgIGlucHV0RWxlbWVudC5zY3JvbGxJbnRvVmlldyh7DQogICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJywNCiAgICAgICAgICAgICAgYmxvY2s6ICdjZW50ZXInDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0sIDEwMCk7IC8vIOetieW+hemdouadv+a4suafk+WujOaIkA0KICAgICAgfSk7DQoNCiAgICAgIC8vIOiOt+WPluaZuuiDveaOqOiNkOespuWPtw0KICAgICAgYXdhaXQgdGhpcy5sb2FkUmVjb21tZW5kZWRTeW1ib2xzKHF1ZXN0aW9uKTsNCiAgICB9LA0KDQogICAgLy8g5YWz6Zet56ym5Y+36Z2i5p2/DQogICAgY2xvc2VTeW1ib2xQYW5lbCgpIHsNCiAgICAgIHRoaXMuc2hvd1N5bWJvbFBhbmVsID0gZmFsc2U7DQogICAgICB0aGlzLmN1cnJlbnRRdWVzdGlvbiA9IG51bGw7DQogICAgICB0aGlzLnJlY29tbWVuZGVkU3ltYm9scyA9IFtdOw0KICAgIH0sDQoNCiAgICAvLyDliqDovb3mjqjojZDnrKblj7cNCiAgICBhc3luYyBsb2FkUmVjb21tZW5kZWRTeW1ib2xzKHF1ZXN0aW9uKSB7DQogICAgICB0aGlzLnN5bWJvbExvYWRpbmcgPSB0cnVlOw0KDQogICAgICB0cnkgew0KICAgICAgICAvLyDosIPnlKjnrKblj7fmjqjojZDmnI3liqENCiAgICAgICAgY29uc3Qgc3ltYm9sU2VydmljZSA9IGF3YWl0IGltcG9ydCgnLi4vc2VydmljZXMvc3ltYm9sUmVjb21tZW5kYXRpb25TZXJ2aWNlJyk7DQoNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzeW1ib2xTZXJ2aWNlLmdldFN5bWJvbFJlY29tbWVuZGF0aW9ucyh7DQogICAgICAgICAgdXNlcl9pZDogdGhpcy51c2VyPy5pZCB8fCAxLA0KICAgICAgICAgIHF1ZXN0aW9uX2lkOiBxdWVzdGlvbi5pZCwNCiAgICAgICAgICBxdWVzdGlvbl90ZXh0OiBxdWVzdGlvbi5jb250ZW50LA0KICAgICAgICAgIGN1cnJlbnRfdG9waWM6IHF1ZXN0aW9uLmtub3dsZWRnZV9wb2ludHM/LlswXSB8fCAnJywNCiAgICAgICAgICBkaWZmaWN1bHR5X2xldmVsOiB0aGlzLmN1cnJlbnRIb21ld29yaz8uZGlmZmljdWx0eSB8fCAnbWVkaXVtJw0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLnN5bWJvbHMpIHsNCiAgICAgICAgICB0aGlzLnJlY29tbWVuZGVkU3ltYm9scyA9IHJlc3BvbnNlLmRhdGEuc3ltYm9scy5tYXAoc3ltYm9sID0+ICh7DQogICAgICAgICAgICBpZDogc3ltYm9sLmlkLA0KICAgICAgICAgICAgc3ltYm9sOiBzeW1ib2wuc3ltYm9sLA0KICAgICAgICAgICAgZGVzY3JpcHRpb246IHN5bWJvbC5kZXNjcmlwdGlvbiwNCiAgICAgICAgICAgIGNhdGVnb3J5OiBzeW1ib2wuY2F0ZWdvcnksDQogICAgICAgICAgICByZWxldmFuY2U6IHN5bWJvbC5yZWxldmFuY2UNCiAgICAgICAgICB9KSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8g5aaC5p6c5rKh5pyJ6L+U5Zue56ym5Y+377yM5L2/55So6buY6K6k5o6o6I2QDQogICAgICAgICAgdGhpcy5yZWNvbW1lbmRlZFN5bWJvbHMgPSB0aGlzLmdldERlZmF1bHRSZWNvbW1lbmRlZFN5bWJvbHMocXVlc3Rpb24pOw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bmjqjojZDnrKblj7flpLHotKU6JywgZXJyb3IpOw0KICAgICAgICAvLyDkvb/nlKjpu5jorqTmjqjojZDnrKblj7cNCiAgICAgICAgdGhpcy5yZWNvbW1lbmRlZFN5bWJvbHMgPSB0aGlzLmdldERlZmF1bHRSZWNvbW1lbmRlZFN5bWJvbHMocXVlc3Rpb24pOw0KICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgdGhpcy5zeW1ib2xMb2FkaW5nID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIOiOt+WPluWumuWItuaOqOiNkOespuWPt++8iOWfuuS6jumimOebruino+azleeahOWGmeatu+aOpeWPo++8iQ0KICAgIGdldEN1c3RvbVJlY29tbWVuZGVkU3ltYm9scyhxdWVzdGlvbikgew0KICAgICAgY29uc3QgY29udGVudCA9IHF1ZXN0aW9uLmNvbnRlbnQudG9Mb3dlckNhc2UoKTsNCiAgICAgIGNvbnN0IGN1c3RvbVJlY29tbWVuZGVkID0gW107DQoNCiAgICAgIC8vIOagueaNrumimOebruexu+Wei+WSjOino+azleaOqOiNkOeJueWumuespuWPtw0KDQogICAgICAvLyDkuIDlhYPkuozmrKHmlrnnqIvnsbvpopjnm64NCiAgICAgIGlmIChjb250ZW50LmluY2x1ZGVzKCfmlrnnqIsnKSAmJiAoY29udGVudC5pbmNsdWRlcygneMKyJykgfHwgY29udGVudC5pbmNsdWRlcygneF4yJykgfHwgY29udGVudC5pbmNsdWRlcygn5LqM5qyhJykpKSB7DQogICAgICAgIGN1c3RvbVJlY29tbWVuZGVkLnB1c2goDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTEnLCBzeW1ib2w6ICd4JywgZGVzY3JpcHRpb246ICfmnKrnn6XmlbB4JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20yJywgc3ltYm9sOiAnwrInLCBkZXNjcmlwdGlvbjogJ+W5s+aWuScgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMycsIHN5bWJvbDogJz0nLCBkZXNjcmlwdGlvbjogJ+etieWPtycgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tNCcsIHN5bWJvbDogJ8KxJywgZGVzY3JpcHRpb246ICfmraPotJ/lj7cnIH0sDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTUnLCBzeW1ib2w6ICfiiJonLCBkZXNjcmlwdGlvbjogJ+agueWPtycgfQ0KICAgICAgICApOw0KICAgICAgfQ0KDQogICAgICAvLyDmoq/lvaLpnaLnp6/nsbvpopjnm64NCiAgICAgIGVsc2UgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJ+air+W9oicpICYmIGNvbnRlbnQuaW5jbHVkZXMoJ+mdouenrycpKSB7DQogICAgICAgIGN1c3RvbVJlY29tbWVuZGVkLnB1c2goDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTYnLCBzeW1ib2w6ICdTJywgZGVzY3JpcHRpb246ICfpnaLnp69TJyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b203Jywgc3ltYm9sOiAnPScsIGRlc2NyaXB0aW9uOiAn562J5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b204Jywgc3ltYm9sOiAnKCcsIGRlc2NyaXB0aW9uOiAn5bem5ous5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b205Jywgc3ltYm9sOiAnKScsIGRlc2NyaXB0aW9uOiAn5Y+z5ous5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20xMCcsIHN5bWJvbDogJysnLCBkZXNjcmlwdGlvbjogJ+WKoOWPtycgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMTEnLCBzeW1ib2w6ICfDlycsIGRlc2NyaXB0aW9uOiAn5LmY5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20xMicsIHN5bWJvbDogJ8O3JywgZGVzY3JpcHRpb246ICfpmaTlj7cnIH0sDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTEzJywgc3ltYm9sOiAnMicsIGRlc2NyaXB0aW9uOiAn5pWw5a2XMicgfQ0KICAgICAgICApOw0KICAgICAgfQ0KDQogICAgICAvLyDlnIblvaLnm7jlhbPpopjnm64NCiAgICAgIGVsc2UgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJ+WchicpICYmIChjb250ZW50LmluY2x1ZGVzKCfpnaLnp68nKSB8fCBjb250ZW50LmluY2x1ZGVzKCflkajplb8nKSkpIHsNCiAgICAgICAgY3VzdG9tUmVjb21tZW5kZWQucHVzaCgNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMTQnLCBzeW1ib2w6ICfPgCcsIGRlc2NyaXB0aW9uOiAn5ZyG5ZGo546HJyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20xNScsIHN5bWJvbDogJ3InLCBkZXNjcmlwdGlvbjogJ+WNiuW+hHInIH0sDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTE2Jywgc3ltYm9sOiAnwrInLCBkZXNjcmlwdGlvbjogJ+W5s+aWuScgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMTcnLCBzeW1ib2w6ICfDlycsIGRlc2NyaXB0aW9uOiAn5LmY5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20xOCcsIHN5bWJvbDogJz0nLCBkZXNjcmlwdGlvbjogJ+etieWPtycgfQ0KICAgICAgICApOw0KICAgICAgfQ0KDQogICAgICAvLyDkuInop5LlvaLnm7jlhbPpopjnm64NCiAgICAgIGVsc2UgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJ+S4ieinkuW9oicpICYmIChjb250ZW50LmluY2x1ZGVzKCfpnaLnp68nKSB8fCBjb250ZW50LmluY2x1ZGVzKCfop5InKSkpIHsNCiAgICAgICAgY3VzdG9tUmVjb21tZW5kZWQucHVzaCgNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMTknLCBzeW1ib2w6ICfilrMnLCBkZXNjcmlwdGlvbjogJ+S4ieinkuW9oicgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMjAnLCBzeW1ib2w6ICfiiKAnLCBkZXNjcmlwdGlvbjogJ+inkicgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMjEnLCBzeW1ib2w6ICfCsCcsIGRlc2NyaXB0aW9uOiAn5bqmJyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20yMicsIHN5bWJvbDogJz0nLCBkZXNjcmlwdGlvbjogJ+etieWPtycgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMjMnLCBzeW1ib2w6ICfDtycsIGRlc2NyaXB0aW9uOiAn6Zmk5Y+3JyB9DQogICAgICAgICk7DQogICAgICB9DQoNCiAgICAgIC8vIOWIhuaVsOebuOWFs+mimOebrg0KICAgICAgZWxzZSBpZiAoY29udGVudC5pbmNsdWRlcygn5YiG5pWwJykgfHwgY29udGVudC5pbmNsdWRlcygn5YiG5a2QJykgfHwgY29udGVudC5pbmNsdWRlcygn5YiG5q+NJykpIHsNCiAgICAgICAgY3VzdG9tUmVjb21tZW5kZWQucHVzaCgNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMjQnLCBzeW1ib2w6ICcvJywgZGVzY3JpcHRpb246ICfliIbmlbDnur8nIH0sDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTI1Jywgc3ltYm9sOiAnKycsIGRlc2NyaXB0aW9uOiAn5Yqg5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20yNicsIHN5bWJvbDogJy0nLCBkZXNjcmlwdGlvbjogJ+WHj+WPtycgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMjcnLCBzeW1ib2w6ICc9JywgZGVzY3JpcHRpb246ICfnrYnlj7cnIH0sDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTI4Jywgc3ltYm9sOiAnKCcsIGRlc2NyaXB0aW9uOiAn5bem5ous5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20yOScsIHN5bWJvbDogJyknLCBkZXNjcmlwdGlvbjogJ+WPs+aLrOWPtycgfQ0KICAgICAgICApOw0KICAgICAgfQ0KDQogICAgICAvLyDnmb7liIbmr5Tnm7jlhbPpopjnm64NCiAgICAgIGVsc2UgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJyUnKSB8fCBjb250ZW50LmluY2x1ZGVzKCfnmb7liIYnKSB8fCBjb250ZW50LmluY2x1ZGVzKCfmipjmiaMnKSB8fCBjb250ZW50LmluY2x1ZGVzKCfliKnnjocnKSkgew0KICAgICAgICBjdXN0b21SZWNvbW1lbmRlZC5wdXNoKA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20zMCcsIHN5bWJvbDogJyUnLCBkZXNjcmlwdGlvbjogJ+eZvuWIhuWPtycgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMzEnLCBzeW1ib2w6ICfDlycsIGRlc2NyaXB0aW9uOiAn5LmY5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20zMicsIHN5bWJvbDogJz0nLCBkZXNjcmlwdGlvbjogJ+etieWPtycgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMzMnLCBzeW1ib2w6ICcrJywgZGVzY3JpcHRpb246ICfliqDlj7cnIH0sDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTM0Jywgc3ltYm9sOiAnLScsIGRlc2NyaXB0aW9uOiAn5YeP5Y+3JyB9DQogICAgICAgICk7DQogICAgICB9DQoNCiAgICAgIC8vIOS4gOiIrOiuoeeul+mimA0KICAgICAgZWxzZSBpZiAoY29udGVudC5pbmNsdWRlcygn6K6h566XJykgfHwgY29udGVudC5pbmNsdWRlcygn5rGCJykgfHwgY29udGVudC5pbmNsdWRlcygn5aSa5bCRJykpIHsNCiAgICAgICAgY3VzdG9tUmVjb21tZW5kZWQucHVzaCgNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMzUnLCBzeW1ib2w6ICc9JywgZGVzY3JpcHRpb246ICfnrYnlj7cnIH0sDQogICAgICAgICAgeyBpZDogJ2N1c3RvbTM2Jywgc3ltYm9sOiAnKycsIGRlc2NyaXB0aW9uOiAn5Yqg5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20zNycsIHN5bWJvbDogJy0nLCBkZXNjcmlwdGlvbjogJ+WHj+WPtycgfSwNCiAgICAgICAgICB7IGlkOiAnY3VzdG9tMzgnLCBzeW1ib2w6ICfDlycsIGRlc2NyaXB0aW9uOiAn5LmY5Y+3JyB9LA0KICAgICAgICAgIHsgaWQ6ICdjdXN0b20zOScsIHN5bWJvbDogJ8O3JywgZGVzY3JpcHRpb246ICfpmaTlj7cnIH0NCiAgICAgICAgKTsNCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIGN1c3RvbVJlY29tbWVuZGVkOw0KICAgIH0sDQoNCiAgICAvLyDojrflj5bpu5jorqTmjqjojZDnrKblj7fvvIjln7rkuo7popjnm67lhoXlrrnnmoTnroDljZXljLnphY3vvIkNCiAgICBnZXREZWZhdWx0UmVjb21tZW5kZWRTeW1ib2xzKHF1ZXN0aW9uKSB7DQogICAgICBjb25zdCBjb250ZW50ID0gcXVlc3Rpb24uY29udGVudC50b0xvd2VyQ2FzZSgpOw0KICAgICAgY29uc3QgcmVjb21tZW5kZWQgPSBbXTsNCg0KICAgICAgLy8g5qC55o2u6aKY55uu5YaF5a655o6o6I2Q56ym5Y+3DQogICAgICBpZiAoY29udGVudC5pbmNsdWRlcygn5pa556iLJykgfHwgY29udGVudC5pbmNsdWRlcygn6KejJykpIHsNCiAgICAgICAgcmVjb21tZW5kZWQucHVzaCgNCiAgICAgICAgICB7IGlkOiAncmVjMScsIHN5bWJvbDogJ3gnLCBkZXNjcmlwdGlvbjogJ+acquefpeaVsHgnIH0sDQogICAgICAgICAgeyBpZDogJ3JlYzInLCBzeW1ib2w6ICd5JywgZGVzY3JpcHRpb246ICfmnKrnn6XmlbB5JyB9LA0KICAgICAgICAgIHsgaWQ6ICdyZWMzJywgc3ltYm9sOiAnPScsIGRlc2NyaXB0aW9uOiAn562J5Y+3JyB9DQogICAgICAgICk7DQogICAgICB9DQoNCiAgICAgIGlmIChjb250ZW50LmluY2x1ZGVzKCfpnaLnp68nKSB8fCBjb250ZW50LmluY2x1ZGVzKCflkajplb8nKSkgew0KICAgICAgICByZWNvbW1lbmRlZC5wdXNoKA0KICAgICAgICAgIHsgaWQ6ICdyZWM0Jywgc3ltYm9sOiAnwrInLCBkZXNjcmlwdGlvbjogJ+W5s+aWuScgfSwNCiAgICAgICAgICB7IGlkOiAncmVjNScsIHN5bWJvbDogJ8+AJywgZGVzY3JpcHRpb246ICflnIblkajnjocnIH0sDQogICAgICAgICAgeyBpZDogJ3JlYzYnLCBzeW1ib2w6ICfDlycsIGRlc2NyaXB0aW9uOiAn5LmY5Y+3JyB9DQogICAgICAgICk7DQogICAgICB9DQoNCiAgICAgIGlmIChjb250ZW50LmluY2x1ZGVzKCfop5InKSB8fCBjb250ZW50LmluY2x1ZGVzKCfkuInop5LlvaInKSkgew0KICAgICAgICByZWNvbW1lbmRlZC5wdXNoKA0KICAgICAgICAgIHsgaWQ6ICdyZWM3Jywgc3ltYm9sOiAn4oigJywgZGVzY3JpcHRpb246ICfop5InIH0sDQogICAgICAgICAgeyBpZDogJ3JlYzgnLCBzeW1ib2w6ICfilrMnLCBkZXNjcmlwdGlvbjogJ+S4ieinkuW9oicgfSwNCiAgICAgICAgICB7IGlkOiAncmVjOScsIHN5bWJvbDogJ8KwJywgZGVzY3JpcHRpb246ICfluqYnIH0NCiAgICAgICAgKTsNCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIHJlY29tbWVuZGVkOw0KICAgIH0sDQoNCiAgICAvLyDmj5LlhaXnrKblj7fliLDnrZTmoYjkuK0NCiAgICBhc3luYyBpbnNlcnRTeW1ib2woc3ltYm9sLCBxdWVzdGlvbklkKSB7DQogICAgICBjb25zdCBjdXJyZW50QW5zd2VyID0gdGhpcy5hbnN3ZXJzW3F1ZXN0aW9uSWRdIHx8ICcnOw0KDQogICAgICAvLyDojrflj5blvZPliY3lhYnmoIfkvY3nva7vvIjnroDljJblpITnkIbvvIzov73liqDliLDmnKvlsL7vvIkNCiAgICAgIHRoaXMuYW5zd2Vyc1txdWVzdGlvbklkXSA9IGN1cnJlbnRBbnN3ZXIgKyBzeW1ib2w7DQoNCiAgICAgIC8vIOS/neWtmOi/m+W6pg0KICAgICAgdGhpcy5zYXZlUHJvZ3Jlc3MoKTsNCg0KICAgICAgLy8g5pu05paw56ym5Y+35L2/55So57uf6K6hDQogICAgICB0cnkgew0KICAgICAgICBjb25zdCBzeW1ib2xTZXJ2aWNlID0gYXdhaXQgaW1wb3J0KCcuLi9zZXJ2aWNlcy9zeW1ib2xSZWNvbW1lbmRhdGlvblNlcnZpY2UnKTsNCiAgICAgICAgYXdhaXQgc3ltYm9sU2VydmljZS51cGRhdGVTeW1ib2xVc2FnZSh7DQogICAgICAgICAgdXNlcl9pZDogdGhpcy51c2VyPy5pZCB8fCAxLA0KICAgICAgICAgIHF1ZXN0aW9uX2lkOiBxdWVzdGlvbklkLA0KICAgICAgICAgIHN5bWJvbDogc3ltYm9sDQogICAgICAgIH0pOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcign5pu05paw56ym5Y+35L2/55So57uf6K6h5aSx6LSlOicsIGVycm9yKTsNCiAgICAgIH0NCg0KICAgICAgLy8g6IGa54Sm5Zue562U5qGI6L6T5YWl5qGGDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIGNvbnN0IGlucHV0UmVmID0gdGhpcy4kcmVmcy5hbnN3ZXJJbnB1dDsNCiAgICAgICAgaWYgKGlucHV0UmVmICYmIEFycmF5LmlzQXJyYXkoaW5wdXRSZWYpKSB7DQogICAgICAgICAgLy8g5om+5Yiw5a+55bqU55qE6L6T5YWl5qGGDQogICAgICAgICAgY29uc3QgdGFyZ2V0SW5wdXQgPSBpbnB1dFJlZi5maW5kKGlucHV0ID0+DQogICAgICAgICAgICBpbnB1dC4kZWwuY2xvc2VzdCgnLnByb2JsZW0tY29udGVudCcpPy5xdWVyeVNlbGVjdG9yKGBbbmFtZT0iJHtxdWVzdGlvbklkfSJdYCkNCiAgICAgICAgICApOw0KICAgICAgICAgIGlmICh0YXJnZXRJbnB1dCkgew0KICAgICAgICAgICAgdGFyZ2V0SW5wdXQuZm9jdXMoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgDQogICAgLy8g6I635Y+W6Zq+5bqm5paH5pysDQogICAgZ2V0RGlmZmljdWx0eVRleHQoZGlmZmljdWx0eSkgew0KICAgICAgY29uc3QgZGlmZmljdWx0eU1hcCA9IHsNCiAgICAgICAgMTogJ+eugOWNlScsDQogICAgICAgIDI6ICfkuK3nrYknLA0KICAgICAgICAzOiAn5Zuw6Zq+JywNCiAgICAgICAgNDogJ+aMkeaImCcsDQogICAgICAgIDU6ICfmnoHpmr4nDQogICAgICB9Ow0KICAgICAgcmV0dXJuIGRpZmZpY3VsdHlNYXBbZGlmZmljdWx0eV0gfHwgZGlmZmljdWx0eTsNCiAgICB9LA0KICAgIA0KICAgIC8vIOagvOW8j+WMluaXpeacnw0KICAgIGZvcm1hdERhdGUoZGF0ZSkgew0KICAgICAgcmV0dXJuIGZvcm1hdERhdGUoZGF0ZSwgJ1lZWVktTU0tREQgSEg6bW0nKTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["IntegratedHomeworkPage.vue"],"names":[],"mappings":";AAuQA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"IntegratedHomeworkPage.vue","sourceRoot":"src/components","sourcesContent":["<!--\r\n  文件名: IntegratedHomeworkPage.vue\r\n  描述: 集成四个模块的主页面，包括作业管理、知识推荐、练习推荐和反馈模块\r\n  创建日期: 2023-06-15\r\n-->\r\n\r\n<template>\r\n  <div class=\"integrated-homework-page homework-container\">\r\n    <!-- 顶部导航栏 -->\r\n    <header class=\"page-header\">\r\n      <div class=\"header-left\">\r\n        <!-- 移动端左侧菜单按钮 -->\r\n        <el-button\r\n          class=\"mobile-menu-btn\"\r\n          icon=\"el-icon-menu\"\r\n          @click=\"toggleLeftPanel\"\r\n          v-show=\"isMobile\"\r\n          type=\"text\"\r\n          size=\"medium\"\r\n        ></el-button>\r\n        <h2>智能作业系统</h2>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <!-- 移动端右侧面板按钮 -->\r\n        <el-button\r\n          class=\"mobile-panel-btn\"\r\n          icon=\"el-icon-s-grid\"\r\n          @click=\"toggleRightPanel\"\r\n          v-show=\"isMobile\"\r\n          type=\"text\"\r\n          size=\"medium\"\r\n        ></el-button>\r\n        <el-dropdown v-if=\"user\" trigger=\"click\">\r\n          <span class=\"el-dropdown-link\">\r\n            {{ user.name }} <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item>个人中心</el-dropdown-item>\r\n            <el-dropdown-item>设置</el-dropdown-item>\r\n            <el-dropdown-item divided>退出登录</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </div>\r\n    </header>\r\n    \r\n    <!-- 主要内容区域 -->\r\n    <main class=\"page-content\">\r\n      <!-- 左侧作业管理 -->\r\n      <div class=\"left-panel\" :class=\"{ 'panel-hidden': isMobile && !showLeftPanel }\">\r\n        <!-- 移动端遮罩层 -->\r\n        <div class=\"panel-overlay\" v-if=\"isMobile && showLeftPanel\" @click=\"hideLeftPanel\"></div>\r\n        <div class=\"panel-content\">\r\n          <HomeworkManagement\r\n            :homeworks=\"homeworks\"\r\n            :activeHomeworkId=\"currentHomework ? currentHomework.id : ''\"\r\n            @select-homework=\"selectHomework\"\r\n            @refresh-homeworks=\"fetchHomeworks\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 中间作业内容 -->\r\n      <div class=\"center-panel\">\r\n        <div v-if=\"loading\" class=\"loading-container\">\r\n          <el-skeleton :rows=\"10\" animated />\r\n        </div>\r\n        \r\n        <div v-else-if=\"!currentHomework\" class=\"empty-state\">\r\n          <i class=\"el-icon-document\"></i>\r\n          <p>请从左侧选择一个作业</p>\r\n        </div>\r\n        \r\n        <div v-else class=\"homework-content\">\r\n          <div class=\"homework-header\">\r\n            <h3>{{ currentHomework.title }}</h3>\r\n            <div class=\"homework-meta\">\r\n              <span><i class=\"el-icon-date\"></i> 截止日期: {{ formatDate(currentHomework.deadline) }}</span>\r\n              <span><i class=\"el-icon-medal\"></i> 难度: {{ getDifficultyText(currentHomework.difficulty) }}</span>\r\n            </div>\r\n            <p class=\"homework-description\">{{ currentHomework.description }}</p>\r\n          </div>\r\n          \r\n          <div class=\"problem-list\">\r\n            <el-collapse v-model=\"activeProblemIds\">\r\n              <el-collapse-item\r\n                v-for=\"question in currentHomework.questions\"\r\n                :key=\"question.id\"\r\n                :title=\"`问题 ${question.id} (${question.score}分)`\"\r\n                :name=\"question.id\"\r\n                :class=\"{ 'selected-question': selectedQuestionId === question.id }\"\r\n                @click.native=\"selectQuestion(question.id)\"\r\n              >\r\n                <div class=\"problem-content\">\r\n                  <div class=\"problem-statement\" v-html=\"question.content\"></div>\r\n                  \r\n                  <div v-if=\"question.options && question.options.length > 0\" class=\"options-area\">\r\n                    <el-radio-group v-model=\"answers[question.id]\">\r\n                      <el-radio \r\n                        v-for=\"(option, index) in question.options\" \r\n                        :key=\"index\"\r\n                        :label=\"option\"\r\n                      >{{ option }}</el-radio>\r\n                    </el-radio-group>\r\n                  </div>\r\n                  <div v-else class=\"answer-area\">\r\n                    <div\r\n                      class=\"answer-input-container\"\r\n                      :class=\"{ 'panel-active': showSymbolPanel && currentQuestion && currentQuestion.id === question.id }\"\r\n                    >\r\n                      <el-input\r\n                        type=\"textarea\"\r\n                        :rows=\"4\"\r\n                        placeholder=\"在此输入答案...\"\r\n                        v-model=\"answers[question.id]\"\r\n                        @input=\"saveProgress\"\r\n                        @focus=\"onAnswerFocus(question, $event)\"\r\n                        ref=\"answerInput\"\r\n                        class=\"answer-input\"\r\n                      ></el-input>\r\n\r\n                      <!-- 符号推荐面板 -->\r\n                      <div\r\n                        v-if=\"showSymbolPanel && currentQuestion && currentQuestion.id === question.id\"\r\n                        class=\"symbol-recommendation-panel\"\r\n                      >\r\n                        <div class=\"panel-header\">\r\n                          <h4><i class=\"el-icon-magic-stick\"></i> 推荐符号</h4>\r\n                          <div class=\"header-actions\">\r\n                            <!-- 状态指示器 -->\r\n                            <div class=\"status-indicator\">\r\n                              <span v-if=\"saving\" class=\"status-item\">\r\n                                <i class=\"el-icon-loading\"></i>\r\n                                <span>保存中</span>\r\n                              </span>\r\n                              <span v-else-if=\"symbolLoading\" class=\"status-item\">\r\n                                <i class=\"el-icon-loading\"></i>\r\n                                <span>加载中</span>\r\n                              </span>\r\n                              <span v-else class=\"status-item ready\">\r\n                                <i class=\"el-icon-check\"></i>\r\n                                <span>就绪</span>\r\n                              </span>\r\n                            </div>\r\n                            <el-button\r\n                              type=\"text\"\r\n                              icon=\"el-icon-close\"\r\n                              @click=\"closeSymbolPanel\"\r\n                              class=\"close-btn\"\r\n                            ></el-button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div v-if=\"symbolLoading\" class=\"loading-state\">\r\n                          <i class=\"el-icon-loading\"></i>\r\n                          <span>加载推荐符号中...</span>\r\n                        </div>\r\n\r\n                        <div v-else class=\"symbol-content\">\r\n                          <!-- 智能推荐符号 - 改名并放在最上面 -->\r\n                          <div v-if=\"getCustomRecommendedSymbols(question).length > 0\" class=\"symbol-category\">\r\n                            <h5>💡 智能推荐</h5>\r\n                            <div class=\"symbol-grid\">\r\n                              <button\r\n                                v-for=\"symbol in getCustomRecommendedSymbols(question)\"\r\n                                :key=\"symbol.id\"\r\n                                class=\"symbol-btn\"\r\n                                :title=\"symbol.description\"\r\n                                @click=\"insertSymbol(symbol.symbol, question.id)\"\r\n                              >\r\n                                {{ symbol.symbol }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <!-- 基础数学符号 -->\r\n                          <div class=\"symbol-category\">\r\n                            <h5>➕ 基础运算</h5>\r\n                            <div class=\"symbol-grid\">\r\n                              <button\r\n                                v-for=\"symbol in basicSymbols\"\r\n                                :key=\"symbol.id\"\r\n                                class=\"symbol-btn\"\r\n                                :title=\"symbol.description\"\r\n                                @click=\"insertSymbol(symbol.symbol, question.id)\"\r\n                              >\r\n                                {{ symbol.symbol }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <!-- 几何符号 -->\r\n                          <div class=\"symbol-category\">\r\n                            <h5>📐 几何符号</h5>\r\n                            <div class=\"symbol-grid\">\r\n                              <button\r\n                                v-for=\"symbol in geometrySymbols\"\r\n                                :key=\"symbol.id\"\r\n                                class=\"symbol-btn\"\r\n                                :title=\"symbol.description\"\r\n                                @click=\"insertSymbol(symbol.symbol, question.id)\"\r\n                              >\r\n                                {{ symbol.symbol }}\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n            </el-collapse>\r\n          </div>\r\n          \r\n          <div class=\"homework-actions\">\r\n            <el-button \r\n              type=\"primary\" \r\n              :disabled=\"!canSubmit\"\r\n              @click=\"submitHomework\"\r\n              :loading=\"submitting\"\r\n            >提交作业</el-button>\r\n            <el-button \r\n              type=\"info\" \r\n              @click=\"saveProgress\"\r\n              :loading=\"saving\"\r\n            >保存进度</el-button>\r\n          </div>\r\n          \r\n          <!-- 反馈区域 -->\r\n          <div v-if=\"feedback\" class=\"feedback-container\">\r\n            <FeedbackModule :feedback=\"feedback\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 右侧推荐面板 -->\r\n      <div class=\"right-panel\" :class=\"{ 'panel-hidden': isMobile && !showRightPanel }\">\r\n        <!-- 移动端遮罩层 -->\r\n        <div class=\"panel-overlay\" v-if=\"isMobile && showRightPanel\" @click=\"hideRightPanel\"></div>\r\n        <div class=\"panel-content\">\r\n          <el-tabs v-model=\"activeTab\" type=\"card\">\r\n            <el-tab-pane label=\"知识推荐\" name=\"knowledge\">\r\n              <KnowledgeRecommendation\r\n                :currentProblem=\"currentProblem\"\r\n                :userContext=\"userContext\"\r\n                @knowledge-selected=\"applyKnowledge\"\r\n              />\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"练习推荐\" name=\"exercise\">\r\n              <ExerciseRecommendation\r\n                :currentProblem=\"currentProblem\"\r\n                :userContext=\"userContext\"\r\n                @exercise-selected=\"selectExercise\"\r\n              />\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport HomeworkManagement from './HomeworkManagement.vue';\r\nimport KnowledgeRecommendation from './KnowledgeRecommendation.vue';\r\nimport ExerciseRecommendation from './ExerciseRecommendation.vue';\r\nimport FeedbackModule from './FeedbackModule.vue';\r\nimport { formatDate } from '../utils/dateFormat';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'IntegratedHomeworkPage',\r\n\r\n  components: {\r\n    HomeworkManagement,\r\n    KnowledgeRecommendation,\r\n    ExerciseRecommendation,\r\n    FeedbackModule\r\n  },\r\n\r\n\r\n  \r\n  data() {\r\n    return {\r\n      loading: false,\r\n      submitting: false,\r\n      saving: false,\r\n      activeProblemIds: [],\r\n      activeTab: 'knowledge',\r\n      answers: {},\r\n      feedback: null,\r\n      saveTimeout: null,\r\n\r\n      // 当前选中的题目ID（用于右侧推荐）\r\n      selectedQuestionId: null,\r\n\r\n      // 响应式布局相关\r\n      isMobile: false,\r\n      showLeftPanel: false,\r\n      showRightPanel: false,\r\n\r\n      // 符号推荐相关\r\n      showSymbolPanel: false,\r\n      symbolLoading: false,\r\n      currentQuestion: null,\r\n      recommendedSymbols: [],\r\n\r\n      // 基础数学符号\r\n      basicSymbols: [\r\n        { id: 1, symbol: '+', description: '加号' },\r\n        { id: 2, symbol: '-', description: '减号' },\r\n        { id: 3, symbol: '×', description: '乘号' },\r\n        { id: 4, symbol: '÷', description: '除号' },\r\n        { id: 5, symbol: '=', description: '等号' },\r\n        { id: 6, symbol: '≠', description: '不等号' },\r\n        { id: 7, symbol: '>', description: '大于' },\r\n        { id: 8, symbol: '<', description: '小于' },\r\n        { id: 9, symbol: '≥', description: '大于等于' },\r\n        { id: 10, symbol: '≤', description: '小于等于' },\r\n        { id: 11, symbol: '²', description: '平方' },\r\n        { id: 12, symbol: '³', description: '立方' },\r\n        { id: 13, symbol: '√', description: '根号' },\r\n        { id: 14, symbol: 'π', description: '圆周率' }\r\n      ],\r\n\r\n      // 几何符号\r\n      geometrySymbols: [\r\n        { id: 15, symbol: '∠', description: '角' },\r\n        { id: 16, symbol: '△', description: '三角形' },\r\n        { id: 17, symbol: '□', description: '正方形' },\r\n        { id: 18, symbol: '○', description: '圆' },\r\n        { id: 19, symbol: '∥', description: '平行' },\r\n        { id: 20, symbol: '⊥', description: '垂直' },\r\n        { id: 21, symbol: '∽', description: '相似' },\r\n        { id: 22, symbol: '≅', description: '全等' }\r\n      ]\r\n    };\r\n  },\r\n  \r\n  computed: {\r\n    ...mapGetters({\r\n      user: 'getUser',\r\n      homeworks: 'getHomeworks',\r\n      currentHomework: 'getCurrentHomework',\r\n      userContext: 'getUserContext'\r\n    }),\r\n    \r\n    // 当前选中的问题（用于右侧推荐）\r\n    currentProblem() {\r\n      if (!this.currentHomework || !this.selectedQuestionId) return null;\r\n\r\n      return this.currentHomework.questions.find(\r\n        question => question.id === this.selectedQuestionId\r\n      );\r\n    },\r\n    \r\n    // 是否可以提交\r\n    canSubmit() {\r\n      if (!this.currentHomework) return false;\r\n      \r\n      // 检查是否所有问题都已回答\r\n      return this.currentHomework.questions.every(\r\n        question => this.answers[question.id]\r\n      );\r\n    }\r\n  },\r\n  \r\n  created() {\r\n    // 配置axios实例\r\n    this.$http = axios.create({\r\n      baseURL: 'http://localhost:5000',\r\n      timeout: 10000\r\n    });\r\n\r\n    // 初始化数据\r\n    this.initializeData();\r\n  },\r\n\r\n  mounted() {\r\n    // 初始化响应式检查\r\n    this.checkMobile();\r\n\r\n    // 监听窗口大小变化\r\n    window.addEventListener('resize', this.handleResize);\r\n  },\r\n\r\n  beforeDestroy() {\r\n    // 移除事件监听\r\n    window.removeEventListener('resize', this.handleResize);\r\n  },\r\n  \r\n  methods: {\r\n    ...mapActions([\r\n      'login',\r\n      'fetchHomeworks',\r\n      'fetchHomeworkDetail',\r\n      'fetchUserContext',\r\n      'submitHomework',\r\n      'saveHomeworkProgress'\r\n    ]),\r\n    \r\n    // 初始化数据\r\n    async initializeData() {\r\n      try {\r\n        // 模拟登录\r\n        await this.login({ username: 'student', password: 'password' });\r\n        \r\n        // 获取作业列表\r\n        await this.fetchHomeworks();\r\n        \r\n        // 获取用户上下文\r\n        await this.fetchUserContext();\r\n      } catch (error) {\r\n        console.error('初始化数据失败', error);\r\n        this.$message.error('加载数据失败，请刷新页面重试');\r\n      }\r\n    },\r\n    \r\n    // 选择作业\r\n    async selectHomework(homeworkId) {\r\n      this.loading = true;\r\n      this.answers = {};\r\n      this.feedback = null;\r\n      \r\n      try {\r\n        // 获取作业详情\r\n        const homework = await this.fetchHomeworkDetail(homeworkId);\r\n        \r\n        // 初始化答案\r\n        if (homework.savedAnswers) {\r\n          this.answers = { ...homework.savedAnswers };\r\n        }\r\n        \r\n        // 如果是已批改的作业，显示反馈\r\n        if (homework.status === 'graded' && homework.feedback) {\r\n          this.feedback = homework.feedback;\r\n        }\r\n        \r\n        // 默认展开所有问题\r\n        if (homework.questions && homework.questions.length > 0) {\r\n          this.activeProblemIds = homework.questions.map(q => q.id);\r\n          // 默认选中第一个题目用于右侧推荐\r\n          this.selectedQuestionId = homework.questions[0].id;\r\n        }\r\n      } catch (error) {\r\n        console.error('获取作业详情失败', error);\r\n        this.$message.error('获取作业详情失败');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // 保存进度\r\n    saveProgress() {\r\n      // 防抖处理，避免频繁保存\r\n      clearTimeout(this.saveTimeout);\r\n      this.saveTimeout = setTimeout(async () => {\r\n        if (!this.currentHomework) return;\r\n\r\n        this.saving = true;\r\n\r\n        try {\r\n          await this.saveHomeworkProgress({\r\n            homeworkId: this.currentHomework.id,\r\n            answers: this.answers\r\n          });\r\n\r\n          // 移除频繁的成功提示\r\n          // this.$message.success('进度已保存');\r\n        } catch (error) {\r\n          console.error('保存进度失败', error);\r\n          this.$message.error('保存进度失败');\r\n        } finally {\r\n          this.saving = false;\r\n        }\r\n      }, 1000);\r\n    },\r\n    \r\n    // 提交作业\r\n    async submitHomework() {\r\n      if (!this.currentHomework) return;\r\n      \r\n      this.submitting = true;\r\n      \r\n      try {\r\n        const result = await this.submitHomework({\r\n          homeworkId: this.currentHomework.id,\r\n          answers: this.answers\r\n        });\r\n        \r\n        this.$message.success('作业提交成功');\r\n        \r\n        // 显示反馈\r\n        if (result.feedback) {\r\n          this.feedback = result.feedback;\r\n        }\r\n      } catch (error) {\r\n        console.error('提交作业失败', error);\r\n        this.$message.error('提交作业失败');\r\n      } finally {\r\n        this.submitting = false;\r\n      }\r\n    },\r\n    \r\n    // 应用知识点\r\n    applyKnowledge(knowledge) {\r\n      if (!this.currentProblem) return;\r\n      \r\n      // 在当前答案中插入知识点\r\n      const problemId = this.currentProblem.id;\r\n      const currentAnswer = this.answers[problemId] || '';\r\n      \r\n      // 根据知识点类型应用不同的内容\r\n      let contentToInsert = '';\r\n      \r\n      if (knowledge.formulas && knowledge.formulas.length > 0) {\r\n        contentToInsert = knowledge.formulas[0];\r\n      } else {\r\n        contentToInsert = knowledge.title;\r\n      }\r\n      \r\n      this.answers[problemId] = currentAnswer + '\\n' + contentToInsert;\r\n      this.saveProgress();\r\n    },\r\n    \r\n    // 选择练习\r\n    selectExercise(exercise) {\r\n      // 实际应用中应跳转到练习页面\r\n      this.$message.info(`即将开始练习：${exercise.title}`);\r\n    },\r\n\r\n    // 选择题目（用于右侧推荐）\r\n    selectQuestion(questionId) {\r\n      this.selectedQuestionId = questionId;\r\n    },\r\n\r\n    // 响应式布局方法\r\n\r\n    // 检查是否为移动端\r\n    checkMobile() {\r\n      this.isMobile = window.innerWidth <= 768;\r\n    },\r\n\r\n    // 切换左侧面板\r\n    toggleLeftPanel() {\r\n      console.log('toggleLeftPanel called, current state:', this.showLeftPanel);\r\n      console.log('isMobile:', this.isMobile);\r\n      this.showLeftPanel = !this.showLeftPanel;\r\n      if (this.showLeftPanel) {\r\n        this.showRightPanel = false; // 关闭右侧面板\r\n      }\r\n      console.log('new showLeftPanel state:', this.showLeftPanel);\r\n    },\r\n\r\n    // 切换右侧面板\r\n    toggleRightPanel() {\r\n      console.log('toggleRightPanel called, current state:', this.showRightPanel);\r\n      console.log('isMobile:', this.isMobile);\r\n      this.showRightPanel = !this.showRightPanel;\r\n      if (this.showRightPanel) {\r\n        this.showLeftPanel = false; // 关闭左侧面板\r\n      }\r\n      console.log('new showRightPanel state:', this.showRightPanel);\r\n    },\r\n\r\n    // 隐藏左侧面板\r\n    hideLeftPanel() {\r\n      this.showLeftPanel = false;\r\n    },\r\n\r\n    // 隐藏右侧面板\r\n    hideRightPanel() {\r\n      this.showRightPanel = false;\r\n    },\r\n\r\n    // 窗口大小变化处理\r\n    handleResize() {\r\n      this.checkMobile();\r\n\r\n      // 如果切换到桌面端，重置面板状态\r\n      if (!this.isMobile) {\r\n        this.showLeftPanel = false;\r\n        this.showRightPanel = false;\r\n      }\r\n    },\r\n\r\n    // 符号推荐相关方法\r\n\r\n    // 答案输入框获得焦点时\r\n    async onAnswerFocus(question, event) {\r\n      this.currentQuestion = question;\r\n      this.showSymbolPanel = true;\r\n\r\n      // 更新选中的题目（用于右侧推荐）\r\n      this.selectedQuestionId = question.id;\r\n\r\n      // 平滑滚动确保面板可见\r\n      this.$nextTick(() => {\r\n        setTimeout(() => {\r\n          const inputElement = event.target;\r\n          if (inputElement) {\r\n            inputElement.scrollIntoView({\r\n              behavior: 'smooth',\r\n              block: 'center'\r\n            });\r\n          }\r\n        }, 100); // 等待面板渲染完成\r\n      });\r\n\r\n      // 获取智能推荐符号\r\n      await this.loadRecommendedSymbols(question);\r\n    },\r\n\r\n    // 关闭符号面板\r\n    closeSymbolPanel() {\r\n      this.showSymbolPanel = false;\r\n      this.currentQuestion = null;\r\n      this.recommendedSymbols = [];\r\n    },\r\n\r\n    // 加载推荐符号\r\n    async loadRecommendedSymbols(question) {\r\n      this.symbolLoading = true;\r\n\r\n      try {\r\n        // 调用符号推荐服务\r\n        const symbolService = await import('../services/symbolRecommendationService');\r\n\r\n        const response = await symbolService.getSymbolRecommendations({\r\n          user_id: this.user?.id || 1,\r\n          question_id: question.id,\r\n          question_text: question.content,\r\n          current_topic: question.knowledge_points?.[0] || '',\r\n          difficulty_level: this.currentHomework?.difficulty || 'medium'\r\n        });\r\n\r\n        if (response.data && response.data.symbols) {\r\n          this.recommendedSymbols = response.data.symbols.map(symbol => ({\r\n            id: symbol.id,\r\n            symbol: symbol.symbol,\r\n            description: symbol.description,\r\n            category: symbol.category,\r\n            relevance: symbol.relevance\r\n          }));\r\n        } else {\r\n          // 如果没有返回符号，使用默认推荐\r\n          this.recommendedSymbols = this.getDefaultRecommendedSymbols(question);\r\n        }\r\n      } catch (error) {\r\n        console.error('获取推荐符号失败:', error);\r\n        // 使用默认推荐符号\r\n        this.recommendedSymbols = this.getDefaultRecommendedSymbols(question);\r\n      } finally {\r\n        this.symbolLoading = false;\r\n      }\r\n    },\r\n\r\n    // 获取定制推荐符号（基于题目解法的写死接口）\r\n    getCustomRecommendedSymbols(question) {\r\n      const content = question.content.toLowerCase();\r\n      const customRecommended = [];\r\n\r\n      // 根据题目类型和解法推荐特定符号\r\n\r\n      // 一元二次方程类题目\r\n      if (content.includes('方程') && (content.includes('x²') || content.includes('x^2') || content.includes('二次'))) {\r\n        customRecommended.push(\r\n          { id: 'custom1', symbol: 'x', description: '未知数x' },\r\n          { id: 'custom2', symbol: '²', description: '平方' },\r\n          { id: 'custom3', symbol: '=', description: '等号' },\r\n          { id: 'custom4', symbol: '±', description: '正负号' },\r\n          { id: 'custom5', symbol: '√', description: '根号' }\r\n        );\r\n      }\r\n\r\n      // 梯形面积类题目\r\n      else if (content.includes('梯形') && content.includes('面积')) {\r\n        customRecommended.push(\r\n          { id: 'custom6', symbol: 'S', description: '面积S' },\r\n          { id: 'custom7', symbol: '=', description: '等号' },\r\n          { id: 'custom8', symbol: '(', description: '左括号' },\r\n          { id: 'custom9', symbol: ')', description: '右括号' },\r\n          { id: 'custom10', symbol: '+', description: '加号' },\r\n          { id: 'custom11', symbol: '×', description: '乘号' },\r\n          { id: 'custom12', symbol: '÷', description: '除号' },\r\n          { id: 'custom13', symbol: '2', description: '数字2' }\r\n        );\r\n      }\r\n\r\n      // 圆形相关题目\r\n      else if (content.includes('圆') && (content.includes('面积') || content.includes('周长'))) {\r\n        customRecommended.push(\r\n          { id: 'custom14', symbol: 'π', description: '圆周率' },\r\n          { id: 'custom15', symbol: 'r', description: '半径r' },\r\n          { id: 'custom16', symbol: '²', description: '平方' },\r\n          { id: 'custom17', symbol: '×', description: '乘号' },\r\n          { id: 'custom18', symbol: '=', description: '等号' }\r\n        );\r\n      }\r\n\r\n      // 三角形相关题目\r\n      else if (content.includes('三角形') && (content.includes('面积') || content.includes('角'))) {\r\n        customRecommended.push(\r\n          { id: 'custom19', symbol: '△', description: '三角形' },\r\n          { id: 'custom20', symbol: '∠', description: '角' },\r\n          { id: 'custom21', symbol: '°', description: '度' },\r\n          { id: 'custom22', symbol: '=', description: '等号' },\r\n          { id: 'custom23', symbol: '÷', description: '除号' }\r\n        );\r\n      }\r\n\r\n      // 分数相关题目\r\n      else if (content.includes('分数') || content.includes('分子') || content.includes('分母')) {\r\n        customRecommended.push(\r\n          { id: 'custom24', symbol: '/', description: '分数线' },\r\n          { id: 'custom25', symbol: '+', description: '加号' },\r\n          { id: 'custom26', symbol: '-', description: '减号' },\r\n          { id: 'custom27', symbol: '=', description: '等号' },\r\n          { id: 'custom28', symbol: '(', description: '左括号' },\r\n          { id: 'custom29', symbol: ')', description: '右括号' }\r\n        );\r\n      }\r\n\r\n      // 百分比相关题目\r\n      else if (content.includes('%') || content.includes('百分') || content.includes('折扣') || content.includes('利率')) {\r\n        customRecommended.push(\r\n          { id: 'custom30', symbol: '%', description: '百分号' },\r\n          { id: 'custom31', symbol: '×', description: '乘号' },\r\n          { id: 'custom32', symbol: '=', description: '等号' },\r\n          { id: 'custom33', symbol: '+', description: '加号' },\r\n          { id: 'custom34', symbol: '-', description: '减号' }\r\n        );\r\n      }\r\n\r\n      // 一般计算题\r\n      else if (content.includes('计算') || content.includes('求') || content.includes('多少')) {\r\n        customRecommended.push(\r\n          { id: 'custom35', symbol: '=', description: '等号' },\r\n          { id: 'custom36', symbol: '+', description: '加号' },\r\n          { id: 'custom37', symbol: '-', description: '减号' },\r\n          { id: 'custom38', symbol: '×', description: '乘号' },\r\n          { id: 'custom39', symbol: '÷', description: '除号' }\r\n        );\r\n      }\r\n\r\n      return customRecommended;\r\n    },\r\n\r\n    // 获取默认推荐符号（基于题目内容的简单匹配）\r\n    getDefaultRecommendedSymbols(question) {\r\n      const content = question.content.toLowerCase();\r\n      const recommended = [];\r\n\r\n      // 根据题目内容推荐符号\r\n      if (content.includes('方程') || content.includes('解')) {\r\n        recommended.push(\r\n          { id: 'rec1', symbol: 'x', description: '未知数x' },\r\n          { id: 'rec2', symbol: 'y', description: '未知数y' },\r\n          { id: 'rec3', symbol: '=', description: '等号' }\r\n        );\r\n      }\r\n\r\n      if (content.includes('面积') || content.includes('周长')) {\r\n        recommended.push(\r\n          { id: 'rec4', symbol: '²', description: '平方' },\r\n          { id: 'rec5', symbol: 'π', description: '圆周率' },\r\n          { id: 'rec6', symbol: '×', description: '乘号' }\r\n        );\r\n      }\r\n\r\n      if (content.includes('角') || content.includes('三角形')) {\r\n        recommended.push(\r\n          { id: 'rec7', symbol: '∠', description: '角' },\r\n          { id: 'rec8', symbol: '△', description: '三角形' },\r\n          { id: 'rec9', symbol: '°', description: '度' }\r\n        );\r\n      }\r\n\r\n      return recommended;\r\n    },\r\n\r\n    // 插入符号到答案中\r\n    async insertSymbol(symbol, questionId) {\r\n      const currentAnswer = this.answers[questionId] || '';\r\n\r\n      // 获取当前光标位置（简化处理，追加到末尾）\r\n      this.answers[questionId] = currentAnswer + symbol;\r\n\r\n      // 保存进度\r\n      this.saveProgress();\r\n\r\n      // 更新符号使用统计\r\n      try {\r\n        const symbolService = await import('../services/symbolRecommendationService');\r\n        await symbolService.updateSymbolUsage({\r\n          user_id: this.user?.id || 1,\r\n          question_id: questionId,\r\n          symbol: symbol\r\n        });\r\n      } catch (error) {\r\n        console.error('更新符号使用统计失败:', error);\r\n      }\r\n\r\n      // 聚焦回答案输入框\r\n      this.$nextTick(() => {\r\n        const inputRef = this.$refs.answerInput;\r\n        if (inputRef && Array.isArray(inputRef)) {\r\n          // 找到对应的输入框\r\n          const targetInput = inputRef.find(input =>\r\n            input.$el.closest('.problem-content')?.querySelector(`[name=\"${questionId}\"]`)\r\n          );\r\n          if (targetInput) {\r\n            targetInput.focus();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    \r\n    // 获取难度文本\r\n    getDifficultyText(difficulty) {\r\n      const difficultyMap = {\r\n        1: '简单',\r\n        2: '中等',\r\n        3: '困难',\r\n        4: '挑战',\r\n        5: '极难'\r\n      };\r\n      return difficultyMap[difficulty] || difficulty;\r\n    },\r\n    \r\n    // 格式化日期\r\n    formatDate(date) {\r\n      return formatDate(date, 'YYYY-MM-DD HH:mm');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.integrated-homework-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  height: 60px;\r\n  background-color: #409EFF;\r\n  color: white;\r\n  position: relative;\r\n  z-index: 1000;\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.mobile-menu-btn,\r\n.mobile-panel-btn {\r\n  display: none;\r\n  color: white;\r\n}\r\n\r\n.header-left h2 {\r\n  margin: 0;\r\n  font-size: 20px;\r\n}\r\n\r\n.el-dropdown-link {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.page-content {\r\n  display: flex;\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n\r\n.left-panel {\r\n  width: 280px;\r\n  border-right: 1px solid #e6e6e6;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.left-panel .panel-content {\r\n  height: 100%;\r\n  flex: 1;\r\n  position: relative;\r\n  z-index: 1000;\r\n  background: white;\r\n}\r\n\r\n.left-panel .panel-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 998;\r\n  display: none;\r\n  pointer-events: auto;\r\n}\r\n\r\n.center-panel {\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.right-panel {\r\n  width: 320px;\r\n  border-left: 1px solid #e6e6e6;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.right-panel .panel-content {\r\n  height: 100%;\r\n  flex: 1;\r\n  position: relative;\r\n  z-index: 1000;\r\n  background: white;\r\n}\r\n\r\n.right-panel .panel-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 998;\r\n  display: none;\r\n  pointer-events: auto;\r\n}\r\n\r\n.loading-container {\r\n  padding: 20px;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 300px;\r\n  color: #909399;\r\n}\r\n\r\n.empty-state i {\r\n  font-size: 48px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.homework-header {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.homework-header h3 {\r\n  margin: 0 0 10px 0;\r\n  font-size: 22px;\r\n  color: #303133;\r\n}\r\n\r\n.homework-meta {\r\n  display: flex;\r\n  gap: 20px;\r\n  font-size: 14px;\r\n  color: #606266;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.homework-description {\r\n  color: #606266;\r\n  line-height: 1.6;\r\n}\r\n\r\n.problem-list {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.problem-content {\r\n  padding: 10px 0;\r\n}\r\n\r\n.problem-statement {\r\n  margin-bottom: 15px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.answer-area {\r\n  margin-top: 10px;\r\n}\r\n\r\n.homework-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.feedback-container {\r\n  margin-top: 30px;\r\n  padding-top: 20px;\r\n  border-top: 1px solid #e6e6e6;\r\n}\r\n\r\n/* 让内容区域自适应高度 */\r\n.problem-content {\r\n  height: auto !important;\r\n  min-height: auto !important;\r\n  max-height: none !important;\r\n}\r\n\r\n/* 调整 el-collapse-item 的阴影效果 */\r\n.el-collapse-item {\r\n  box-shadow: none !important; /* 去掉阴影 */\r\n  border-radius: 6px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.el-collapse-item__header {\r\n  padding: 12px 20px !important; /* 与内容区域保持一致的左右间距 */\r\n  background-color: #fafafa;\r\n  border-radius: 6px 6px 0 0;\r\n}\r\n\r\n.el-collapse-item.is-active .el-collapse-item__header {\r\n  border-bottom: 1px solid #e6e6e6;\r\n}\r\n\r\n.el-collapse-item__wrap {\r\n  border-radius: 0 0 6px 6px;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 选中题目的样式 */\r\n.selected-question .el-collapse-item__header {\r\n  background-color: #ECF5FF !important;\r\n  border-left: 4px solid #409EFF !important;\r\n  color: #409EFF !important;\r\n  font-weight: 600 !important;\r\n}\r\n\r\n.selected-question .el-collapse-item__header:hover {\r\n  background-color: #D9ECFF !important;\r\n}\r\n\r\n/* 符号推荐面板样式 - IEEE风格 */\r\n.answer-input-container {\r\n  position: relative;\r\n  transition: margin-bottom 0.3s ease;\r\n}\r\n\r\n.answer-input-container.panel-active {\r\n  margin-bottom: 35vh; /* 使用视窗高度的50%，更灵活 */\r\n  position: relative;\r\n}\r\n\r\n\r\n\r\n.answer-input {\r\n  width: 100%;\r\n}\r\n\r\n.symbol-recommendation-panel {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background: #fefefe;\r\n  border: 2px solid #409EFF;\r\n  border-radius: 8px;\r\n  box-shadow: none; /* 去掉阴影 */\r\n  z-index: 1000;\r\n  margin-top: 8px;\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n  font-family: 'Times New Roman', serif;\r\n  /* 确保面板不会被遮挡 */\r\n  min-height: 200px;\r\n}\r\n\r\n\r\n\r\n.panel-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  background: #fefefe;\r\n  color: #606266;\r\n  border-radius: 6px 6px 0 0;\r\n  border-bottom: 1px solid #E4E7ED;\r\n}\r\n\r\n.panel-header h4 {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.status-indicator {\r\n  font-size: 12px;\r\n}\r\n\r\n.status-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  color: #909399;\r\n}\r\n\r\n.status-item.ready {\r\n  color: #67C23A;\r\n}\r\n\r\n.status-item i {\r\n  font-size: 12px;\r\n}\r\n\r\n.status-item .el-icon-loading {\r\n  animation: rotating 2s linear infinite;\r\n}\r\n\r\n@keyframes rotating {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.close-btn {\r\n  color: #909399 !important;\r\n  padding: 4px !important;\r\n}\r\n\r\n.close-btn:hover {\r\n  background-color: rgba(144, 147, 153, 0.1) !important;\r\n  color: #606266 !important;\r\n}\r\n\r\n.loading-state {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px;\r\n  color: #606266;\r\n  gap: 8px;\r\n}\r\n\r\n.symbol-content {\r\n  padding: 16px;\r\n}\r\n\r\n.symbol-category {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.symbol-category:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.symbol-category h5 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 12px;\r\n  color: #606266;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  border-bottom: 1px solid #E4E7ED;\r\n  padding-bottom: 4px;\r\n  font-family: 'Times New Roman', serif;\r\n}\r\n\r\n.symbol-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));\r\n  gap: 6px;\r\n}\r\n\r\n.symbol-btn {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 1px solid #DCDFE6;\r\n  background: #ffffff;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  color: #303133;\r\n}\r\n\r\n.symbol-btn:hover {\r\n  border-color: #409EFF;\r\n  background: #ECF5FF;\r\n  color: #409EFF;\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 8px rgba(64, 158, 255, 0.2);\r\n}\r\n\r\n.symbol-btn:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  /* 显示移动端菜单按钮 */\r\n  .mobile-menu-btn,\r\n  .mobile-panel-btn {\r\n    display: inline-flex !important;\r\n  }\r\n\r\n  /* 主内容区域调整 */\r\n  .main-content {\r\n    position: relative;\r\n  }\r\n\r\n  /* 左侧面板移动端样式 */\r\n  .left-panel {\r\n    position: fixed;\r\n    top: 60px; /* 头部高度 */\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 280px;\r\n    background: white;\r\n    z-index: 999;\r\n    transform: translateX(-100%);\r\n    border-right: 1px solid #e6e6e6;\r\n    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  .left-panel:not(.panel-hidden) {\r\n    transform: translateX(0);\r\n  }\r\n\r\n  .left-panel.panel-hidden {\r\n    transform: translateX(-100%);\r\n  }\r\n\r\n  .left-panel .panel-overlay {\r\n    display: block !important;\r\n    z-index: 998;\r\n  }\r\n\r\n  /* 右侧面板移动端样式 */\r\n  .right-panel {\r\n    position: fixed;\r\n    top: 60px;\r\n    right: 0;\r\n    bottom: 0;\r\n    width: 320px;\r\n    background: white;\r\n    z-index: 999;\r\n    transform: translateX(100%);\r\n    border-left: 1px solid #e6e6e6;\r\n    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  .right-panel:not(.panel-hidden) {\r\n    transform: translateX(0);\r\n  }\r\n\r\n  .right-panel.panel-hidden {\r\n    transform: translateX(100%);\r\n  }\r\n\r\n  .right-panel .panel-overlay {\r\n    display: block !important;\r\n    z-index: 998;\r\n  }\r\n\r\n  /* 中间内容区域占满 */\r\n  .center-panel {\r\n    width: 100%;\r\n    margin: 0;\r\n  }\r\n\r\n  /* 符号推荐面板移动端调整 */\r\n  .answer-input-container.panel-active {\r\n    margin-bottom: 40vh;\r\n  }\r\n\r\n  .symbol-recommendation-panel {\r\n    max-height: 300px;\r\n  }\r\n\r\n  .symbol-grid {\r\n    grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));\r\n    gap: 4px;\r\n  }\r\n\r\n  .symbol-btn {\r\n    width: 35px;\r\n    height: 35px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .panel-header {\r\n    padding: 8px 12px;\r\n  }\r\n\r\n  .panel-header h4 {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .status-indicator {\r\n    font-size: 10px;\r\n  }\r\n}\r\n\r\n/* 隐藏面板的样式 */\r\n.panel-hidden {\r\n  transform: translateX(-100%) !important;\r\n}\r\n\r\n.right-panel.panel-hidden {\r\n  transform: translateX(100%) !important;\r\n}\r\n</style>\r\n"]}]}